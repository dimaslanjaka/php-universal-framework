"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}(function(e){var t=function(){function t(i,s){_classCallCheck(this,t),this.$nativeSelect=i,this.defaults={destroy:!1,nativeID:null,BSsearchIn:!1,BSinputText:!1,fasClasses:"",farClasses:"",fabClasses:"",copyClassesOption:!1,language:{active:!1,pl:{selectAll:"Wybierz wszystko",optionsSelected:"wybranych opcji"},in:{selectAll:"Pilih semuanya",optionsSelected:"opsi yang dipilih"},fr:{selectAll:"Tout choisir",optionsSelected:"options s\xe9lectionn\xe9es"},ge:{selectAll:"W\xe4hle alles aus",optionsSelected:"ausgew\xe4hlte Optionen"},ar:{selectAll:"\u0627\u062e\u062a\u0631 \u0643\u0644 \u0634\u064a\u0621",optionsSelected:"\u0627\u0644\u062e\u064a\u0627\u0631\u0627\u062a \u0627\u0644\u0645\u062d\u062f\u062f\u0629"}}},this.options=this.assignOptions(s),this.isMultiple=Boolean(this.$nativeSelect.attr("multiple")),this.isSearchable=Boolean(this.$nativeSelect.attr("searchable")),this.isRequired=Boolean(this.$nativeSelect.attr("required")),this.isEditable=Boolean(this.$nativeSelect.attr("editable")),this.selectAllLabel=Boolean(this.$nativeSelect.attr("selectAllLabel"))?this.$nativeSelect.attr("selectAllLabel"):"Select all",this.optionsSelectedLabel=Boolean(this.$nativeSelect.attr("optionsSelectedLabel"))?this.$nativeSelect.attr("optionsSelectedLabel"):"options selected",this.keyboardActiveClass=Boolean(this.$nativeSelect.attr("keyboardActiveClass"))?this.$nativeSelect.attr("keyboardActiveClass"):"heavy-rain-gradient",this.uuid=null!==this.options.nativeID&&""!==this.options.nativeID&&void 0!==this.options.nativeID&&"string"===typeof this.options.nativeID?this.options.nativeID:this._randomUUID(),this.$selectWrapper=e('<div class="select-wrapper"></div>'),this.$materialOptionsList=e('<ul id="select-options-'.concat(this.uuid,'" class="dropdown-content select-dropdown w-100 ').concat(this.isMultiple?"multiple-select-dropdown":"",'"></ul>')),this.$materialSelectInitialOption=i.find("option:selected").text()||i.find("option:first").text()||"",this.$nativeSelectChildren=this.$nativeSelect.children("option, optgroup"),this.$materialSelect=e('<input type="text" class="'.concat(this.options.BSinputText?"browser-default custom-select multi-bs-select select-dropdown form-control":"select-dropdown form-control",'" ').concat(!this.options.validate&&'readonly="true"',' required="').concat(this.options.validate?"true":"false",'" ').concat(this.$nativeSelect.is(" :disabled")?"disabled":"",' data-activates="select-options-').concat(this.uuid,'" value=""/>')),this.$dropdownIcon=this.options.BSinputText?"":e('<span class="caret">&#9660;</span>'),this.$searchInput=null,this.$toggleAll=e('<li class="select-toggle-all"><span><input type="checkbox" class="form-check-input"><label>'.concat(this.selectAllLabel,"</label></span></li>")),this.$addOptionBtn=e('<i class="select-add-option fas fa-plus"></i>'),this.mainLabel=this.$nativeSelect.next(".mdb-main-label"),this.$validFeedback=e('<div class="valid-feedback">'.concat(this.options.validFeedback||"Good choice","</div>")),this.$invalidFeedback=e('<div class="invalid-feedback">'.concat(this.options.invalidFeedback||"Bad choice","</div>")),this.valuesSelected=[],this.keyCodes={tab:9,esc:27,enter:13,arrowUp:38,arrowDown:40},t.mutationObservers=[]}return _createClass(t,[{key:"assignOptions",value:function(t){return e.extend({},this.defaults,t)}},{key:"init",value:function(){var e=Boolean(this.$nativeSelect.data("select-id"));if(e&&this._removeMaterialWrapper(),this.options.destroy){var t=!!this.$nativeSelect.parent().find("button.btn-save").length&&this.$nativeSelect.parent().find("button.btn-save");return this.$nativeSelect.data("select-id",null).removeClass("initialized"),void this.$nativeSelect.parent().append(t)}this.options.BSsearchIn||this.options.BSinputText?this.$selectWrapper.addClass(this.$nativeSelect.attr("class").split(" ").filter((function(e){return"md-form"!==e})).join(" ")).css({marginTop:"1.5rem",marginBottom:"1.5rem"}):this.$selectWrapper.addClass(this.$nativeSelect.attr("class")),this.$nativeSelect.data("select-id",this.uuid);var i=this.$materialSelectInitialOption.replace(/"/g,"&quot;").replace(/  +/g," ").trim();0===this.mainLabel.length?this.$materialSelect.val(i):this.mainLabel.text(),this.renderMaterialSelect(),this.bindEvents(),this.isRequired&&this.enableValidation(),this.options.language.active&&this.$toggleAll&&(this.options.language.pl&&this.$toggleAll.find("label").text(this.options.language.pl.selectAll?this.options.language.pl.selectAll:this.defaults.language.pl.selectAll),this.options.language.fr&&this.$toggleAll.find("label").text(this.options.language.fr.selectAll?this.options.language.fr.selectAll:this.defaults.language.fr.selectAll),this.options.language.ge&&this.$toggleAll.find("label").text(this.options.language.ge.selectAll?this.options.language.ge.selectAll:this.defaults.language.ge.selectAll),this.options.language.ar&&this.$toggleAll.find("label").text(this.options.language.ar.selectAll?this.options.language.ar.selectAll:this.defaults.language.ar.selectAll),this.options.language.in&&this.$toggleAll.find("label").text(this.options.language.in.selectAll?this.options.language.in.selectAll:this.defaults.language.in.selectAll)),this.$materialSelect.hasClass("custom-select")&&this.$materialSelect.hasClass("select-dropdown")&&this.$materialSelect.css({display:"inline-block",width:"100%",height:"calc(1.5em + .75rem + 2px)",padding:".375rem 1.75rem .375rem .75rem",fontSize:"1rem",lineHeight:"1.5",backgroundColor:"#fff",border:"1px solid #ced4da"})}},{key:"_removeMaterialWrapper",value:function(){var t=this.$nativeSelect.data("select-id");this.$nativeSelect.parent().find("span.caret").remove(),this.$nativeSelect.parent().find("input").remove(),this.$nativeSelect.unwrap(),e("ul#select-options-".concat(t)).remove()}},{key:"renderMaterialSelect",value:function(){var e=this;if(this.$nativeSelect.before(this.$selectWrapper),this.appendDropdownIcon(),this.appendValidation(),this.appendMaterialSelect(),this.appendMaterialOptionsList(),this.appendNativeSelect(),this.appendSaveSelectButton(),this.$nativeSelect.is(":disabled")||this.$materialSelect.dropdown({hover:!1,closeOnClick:!1}),!1!==this.$nativeSelect.data("inherit-tabindex")&&this.$materialSelect.attr("tabindex",this.$nativeSelect.attr("tabindex")),this.isMultiple)this.$nativeSelect.find("option:selected:not(:disabled)").each((function(t,i){var s=i.index;e._toggleSelectedValue(s),e.$materialOptionsList.find("li:not(.optgroup):not(.select-toggle-all)").eq(s).find(":checkbox").prop("checked",!0)}));else{var t=this.$nativeSelect.find("option[selected]").first(),i=this.$nativeSelect.find("option").index(t.get(0));"disabled"!==t.attr("disabled")&&i>=0&&this._toggleSelectedValue(i)}this.$nativeSelect.addClass("initialized"),this.options.BSinputText&&this.mainLabel.css("top","-7px")}},{key:"appendDropdownIcon",value:function(){this.$nativeSelect.is(":disabled")&&this.$dropdownIcon.addClass("disabled"),this.$selectWrapper.append(this.$dropdownIcon)}},{key:"appendValidation",value:function(){this.options.validate&&(this.$validFeedback.insertAfter(this.$selectWrapper),this.$invalidFeedback.insertAfter(this.$selectWrapper))}},{key:"appendMaterialSelect",value:function(){this.$selectWrapper.append(this.$materialSelect)}},{key:"appendMaterialOptionsList",value:function(){this.isSearchable&&this.appendSearchInputOption(),this.isEditable&&this.isSearchable&&this.appendAddOptionBtn(),this.buildMaterialOptions(),this.isMultiple&&this.appendToggleAllCheckbox(),this.$selectWrapper.append(this.$materialOptionsList)}},{key:"appendNativeSelect",value:function(){this.$nativeSelect.appendTo(this.$selectWrapper)}},{key:"appendSearchInputOption",value:function(){var t=this.$nativeSelect.attr("searchable");this.options.BSsearchIn?this.$searchInput=e('<span class="search-wrap ml-2"><div class="mt-0"><input type="text" class="search mb-2 w-100 d-block select-default" tabindex="-1" placeholder="'.concat(t,'"></div></span>')):this.$searchInput=e('<span class="search-wrap ml-2"><div class="md-form mt-0"><input type="text" class="search w-100 d-block" tabindex="-1" placeholder="'.concat(t,'"></div></span>')),this.$materialOptionsList.append(this.$searchInput),this.$searchInput.on("click",(function(e){e.stopPropagation()}))}},{key:"appendAddOptionBtn",value:function(){this.$searchInput.append(this.$addOptionBtn),this.$addOptionBtn.on("click",this.addNewOption.bind(this))}},{key:"addNewOption",value:function(){var t=this.$searchInput.find("input").val(),i=e('<option value="'.concat(t.toLowerCase(),'" selected>').concat(t,"</option>")).prop("selected",!0);this.isMultple||this.$nativeSelectChildren.each((function(t,i){e(i).attr("selected",!1)})),this.$nativeSelect.append(i)}},{key:"appendToggleAllCheckbox",value:function(){var e=this.$materialOptionsList.find("li").first();e.hasClass("disabled")&&e.find("input").prop("disabled")?e.after(this.$toggleAll):this.$materialOptionsList.find("li").first().before(this.$toggleAll)}},{key:"appendSaveSelectButton",value:function(){this.$selectWrapper.parent().find("button.btn-save").appendTo(this.$materialOptionsList)}},{key:"buildMaterialOptions",value:function(){var t=this;this.$nativeSelectChildren.each((function(i,s){var a=e(s);if(a.is("option"))t.buildSingleOption(a,t.isMultiple?"multiple":"");else if(a.is("optgroup")){var l=e('<li class="optgroup"><span>'.concat(a.attr("label"),"</span></li>"));t.$materialOptionsList.append(l);var n=a.children("option");n.each((function(i,s){t.buildSingleOption(e(s),"optgroup-option")}))}}))}},{key:"buildSingleOption",value:function(t,i){var s=t.is(":disabled")?"disabled":"",a="optgroup-option"===i?"optgroup-option":"",l=t.data("icon"),n=t.data("fas")?'<i class="fa-pull-right m-2 fas fa-'.concat(t.data("fas")," ").concat([...this.options.fasClasses].join(""),'"></i> '):"",o=t.data("far")?'<i class="fa-pull-right m-2 far fa-'.concat(t.data("far")," ").concat([...this.options.farClasses].join(""),'"></i> '):"",c=t.data("fab")?'<i class="fa-pull-right m-2 fab fa-'.concat(t.data("fab")," ").concat([...this.options.fabClasses].join(""),'"></i> '):"",r=t.attr("class"),h=l?'<img alt="" src="'.concat(l,'" class="').concat(r,'">'):"",p=this.isMultiple?'<input type="checkbox" class="form-check-input" '.concat(s,"/><label></label>"):"";this.$materialOptionsList.append(e('<li class="'.concat(s," ").concat(a," ").concat(this.options.copyClassesOption?r:"",' ">').concat(h,'<span class="filtrable">').concat(p," ").concat(t.html()," ").concat(n," ").concat(o," ").concat(c,"</span></li>")))}},{key:"enableValidation",value:function(){this.$nativeSelect.css({position:"absolute",top:"1rem",left:"0",height:"0",width:"0",opacity:"0",padding:"0","pointer-events":"none"}),-1===this.$nativeSelect.attr("style").indexOf("inline!important")&&this.$nativeSelect.attr("style","".concat(this.$nativeSelect.attr("style")," display: inline!important;")),this.$nativeSelect.attr("tabindex",-1),this.$nativeSelect.data("inherit-tabindex",!1)}},{key:"bindEvents",value:function(){var i=this,s={attributes:!0,childList:!0,characterData:!0,subtree:!0},a=new MutationObserver(this._onMutationObserverChange.bind(this));a.observe(this.$nativeSelect.get(0),s),a.customId=this.uuid,a.customStatus="observing",t.clearMutationObservers(),t.mutationObservers.push(a);var l=this.$nativeSelect.parent().find("button.btn-save");l.on("click",this._onSaveSelectBtnClick.bind(this)),this.$materialSelect.on("focus",this._onMaterialSelectFocus.bind(this)),this.$materialSelect.on("click",this._onMaterialSelectClick.bind(this)),this.$materialSelect.on("blur",this._onMaterialSelectBlur.bind(this)),this.$materialSelect.on("keydown",this._onMaterialSelectKeydown.bind(this)),this.$toggleAll.on("click",this._onToggleAllClick.bind(this)),this.$materialOptionsList.on("mousedown",this._onEachMaterialOptionMousedown.bind(this)),this.$materialOptionsList.find("li:not(.optgroup)").not(this.$toggleAll).each((function(t,s){e(s).on("click",i._onEachMaterialOptionClick.bind(i,t,s))})),!this.isMultiple&&this.isSearchable&&this.$materialOptionsList.find("li").on("click",this._onSingleMaterialOptionClick.bind(this)),this.isSearchable&&this.$searchInput.find(".search").on("keyup",this._onSearchInputKeyup.bind(this)),e("html").on("click",this._onHTMLClick.bind(this))}},{key:"_onMutationObserverChange",value:function(i){i.forEach((function(i){var s=e(i.target).closest("select");!0!==s.data("stop-refresh")&&("childList"===i.type||"attributes"===i.type&&e(i.target).is("option"))&&(t.clearMutationObservers(),s.materialSelect({destroy:!0}),s.materialSelect())}))}},{key:"_onSaveSelectBtnClick",value:function(){e("input.multi-bs-select").trigger("close"),this.$materialOptionsList.hide(),this.$materialSelect.removeClass("active")}},{key:"_onEachMaterialOptionClick",value:function(t,i,s){s.stopPropagation();var a=e(i);if(!a.hasClass("disabled")&&!a.hasClass("optgroup")){var l=!0;if(this.isMultiple){a.find('input[type="checkbox"]').prop("checked",(function(e,t){return!t}));var n=Boolean(this.$nativeSelect.find("optgroup").length),o=this._isToggleAllPresent()?a.index()-1:a.index();l=this.isSearchable&&n?this._toggleSelectedValue(o-a.prevAll(".optgroup").length-1):this.isSearchable?this._toggleSelectedValue(o-1):n?this._toggleSelectedValue(o-a.prevAll(".optgroup").length):this._toggleSelectedValue(o),this._isToggleAllPresent()&&this._updateToggleAllOption(),this.$materialSelect.trigger("focus")}else this.$materialOptionsList.find("li").removeClass("active"),a.toggleClass("active"),this.$materialSelect.val(a.text().replace(/  +/g," ").trim()),this.$materialSelect.trigger("close");this._selectSingleOption(a),this.$nativeSelect.data("stop-refresh",!0),this.$nativeSelect.find("option").eq(t).prop("selected",l),this.$nativeSelect.removeData("stop-refresh"),this._triggerChangeOnNativeSelect(),this.mainLabel.prev().find("input").hasClass("select-dropdown")&&this.mainLabel.prev().find("input.select-dropdown").val().length>0&&this.mainLabel.addClass("active"),"function"===typeof this.options&&this.options(),a.hasClass("li-added")&&this.$materialOptionsList.append(this.buildSingleOption(a,""))}}},{key:"_escapeKeyboardActiveOptions",value:function(){var t=this;this.$materialOptionsList.find("li").each((function(i,s){e(s).removeClass(t.keyboardActiveClass)}))}},{key:"_triggerChangeOnNativeSelect",value:function(){var e=new KeyboardEvent("change",{bubbles:!0,cancelable:!0});this.$nativeSelect.get(0).dispatchEvent(e)}},{key:"_onMaterialSelectFocus",value:function(t){var i=e(t.target);if(e("ul.select-dropdown").not(this.$materialOptionsList.get(0)).is(":visible")&&e("input.select-dropdown").trigger("close"),this.mainLabel.addClass("active"),!this.$materialOptionsList.is(":visible")){i.trigger("open",["focus"]);var s=i.val(),a=this.$materialOptionsList.find("li").filter((function(){return e(this).text().toLowerCase()===s.toLowerCase()}))[0];this._selectSingleOption(a)}this.isMultiple||this.mainLabel.addClass("active"),e(document).find("input.select-dropdown").each((function(t,i){return e(i).val().length<=0})).parent().next(".mdb-main-label").filter((function(t,i){return e(i).prev().find("input.select-dropdown").val().length<=0&&!e(i).prev().find("input.select-dropdown").hasClass("active")})).removeClass("active")}},{key:"_onMaterialSelectClick",value:function(e){this.mainLabel.addClass("active"),e.stopPropagation()}},{key:"_onMaterialSelectBlur",value:function(t){var i=e(t);this.isMultiple||this.isSearchable||i.trigger("close"),this.$materialOptionsList.find("li.selected").removeClass("selected")}},{key:"_onSingleMaterialOptionClick",value:function(){this.$materialSelect.trigger("close")}},{key:"_onEachMaterialOptionMousedown",value:function(t){var i=t.target;e(".modal-content").find(this.$materialOptionsList).length&&i.scrollHeight>i.offsetHeight&&t.preventDefault()}},{key:"_onHTMLClick",value:function(t){e(t.target).closest("#select-options-".concat(this.uuid)).length||e(t.target).hasClass("mdb-select")||!e("#select-options-".concat(this.uuid)).hasClass("active")||(this.$materialSelect.trigger("close"),!this.$materialSelect.val().length>0&&this.mainLabel.removeClass("active")),this.isSearchable&&null!==this.$searchInput&&this.$materialOptionsList.hasClass("active")&&this.$materialOptionsList.find(".search-wrap input.search").focus()}},{key:"_onToggleAllClick",value:function(t){var i=this,s=e(this.$toggleAll).find('input[type="checkbox"]').first(),a=!e(s).prop("checked");e(s).prop("checked",a),this.$materialOptionsList.find("li:not(.optgroup):not(.select-toggle-all)").each((function(t,s){var l=e(s).find('input[type="checkbox"]');a&&l.is(":checked")||!a&&!l.is(":checked")||e(s).is(":hidden")||e(s).is(".disabled")||(l.prop("checked",a),i.$nativeSelect.find("option").eq(t).prop("selected",a),a?e(s).removeClass("active"):e(s).addClass("active"),i._toggleSelectedValue(t),i._selectOption(s),i._setValueToMaterialSelect())})),this.$nativeSelect.data("stop-refresh",!0),this._triggerChangeOnNativeSelect(),this.$nativeSelect.removeData("stop-refresh"),t.stopPropagation()}},{key:"_onMaterialSelectKeydown",value:function(t){var i=e(t.target),s=t.which===this.keyCodes.tab,a=t.which===this.keyCodes.esc,l=t.which===this.keyCodes.enter,n=l&&t.shiftKey,o=t.which===this.keyCodes.arrowUp,c=t.which===this.keyCodes.arrowDown,r=this.$materialOptionsList.is(":visible");s?this._handleTabKey(i):!c||r?l&&!r||(t.preventDefault(),n?this._handleEnterWithShiftKey(i):l?this._handleEnterKey(i):c?this._handleArrowDownKey():o?this._handleArrowUpKey():a?this._handleEscKey(i):this._handleLetterKey(t)):i.trigger("open")}},{key:"_handleTabKey",value:function(e){this._handleEscKey(e)}},{key:"_handleEnterWithShiftKey",value:function(e){this.isMultiple?this.$toggleAll.trigger("click"):this._handleEnterKey(e)}},{key:"_handleEnterKey",value:function(t){var i=this.$materialOptionsList.find("li.selected:not(.disabled)");i.trigger("click").addClass("active"),this.isMultiple||e(t).trigger("close")}},{key:"_handleArrowDownKey",value:function(){var t=this,i=this.$materialOptionsList.find("li:visible").not(".disabled, .select-toggle-all"),s=this.$materialOptionsList.find("li:visible").not(".disabled, .select-toggle-all").first(),a=this.$materialOptionsList.find("li:visible").not(".disabled, .select-toggle-all").last(),l=this.$materialOptionsList.find("li.selected").length>0,n=l?this.$materialOptionsList.find("li.selected").first():s,o=n.next("li:visible:not(.disabled, .select-toggle-all)"),c=o;i.each((function(s,a){e(a).hasClass(t.keyboardActiveClass)&&(o=i.eq(s+1),c=i.eq(s))}));var r=n.is(a)||!l?n:o;this._selectSingleOption(r),this._escapeKeyboardActiveOptions(),r.find("input").is(":checked")||r.removeClass(this.keyboardActiveClass),c.hasClass("selected")||c.find("input").is(":checked")||!this.isMultiple||c.removeClass("active",this.keyboardActiveClass),r.addClass(this.keyboardActiveClass),r.position()&&this.$materialOptionsList.scrollTop(this.$materialOptionsList.scrollTop()+r.position().top)}},{key:"_handleArrowUpKey",value:function(){var t=this,i=this.$materialOptionsList.find("li:visible").not(".disabled, .select-toggle-all"),s=this.$materialOptionsList.find("li:visible").not(".disabled, .select-toggle-all").first(),a=this.$materialOptionsList.find("li:visible").not(".disabled, .select-toggle-all").last(),l=this.$materialOptionsList.find("li.selected").length>0,n=l?this.$materialOptionsList.find("li.selected").first():a,o=n.prev("li:visible:not(.disabled, .select-toggle-all)"),c=o;i.each((function(s,a){e(a).hasClass(t.keyboardActiveClass)&&(o=i.eq(s-1),c=i.eq(s))}));var r=n.is(s)||!l?n:o;this._selectSingleOption(r),this._escapeKeyboardActiveOptions(),r.find("input").is(":checked")||r.removeClass(this.keyboardActiveClass),c.hasClass("selected")||c.find("input").is(":checked")||!this.isMultiple||c.removeClass("active",this.keyboardActiveClass),r.addClass(this.keyboardActiveClass),r.position()&&this.$materialOptionsList.scrollTop(this.$materialOptionsList.scrollTop()+r.position().top)}},{key:"_handleEscKey",value:function(t){this._escapeKeyboardActiveOptions(),e(t).trigger("close")}},{key:"_handleLetterKey",value:function(t){var i=this;if(this._escapeKeyboardActiveOptions(),this.isSearchable){var s=t.which>46&&t.which<91,a=t.which>93&&t.which<106,l=8===t.which;(s||a)&&this.$searchInput.find("input").val(t.key).focus(),l&&this.$searchInput.find("input").val("").focus()}else{var n="",o=String.fromCharCode(t.which).toLowerCase(),c=Object.keys(this.keyCodes).map((function(e){return i.keyCodes[e]})),r=o&&-1===c.indexOf(t.which);if(r){n+=o;var h=this.$materialOptionsList.find("li").filter((function(t,i){return e(i).text().toLowerCase().includes(n)})).first();this.isMultiple||this.$materialOptionsList.find("li").removeClass("active"),h.addClass("active"),this._selectSingleOption(h)}}}},{key:"_onSearchInputKeyup",value:function(t){var i=e(t.target),s=t.which===this.keyCodes.tab,a=t.which===this.keyCodes.esc,l=t.which===this.keyCodes.enter,n=l&&t.shiftKey,o=t.which===this.keyCodes.arrowUp,c=t.which===this.keyCodes.arrowDown;if(c||s||a||o)return this.$materialSelect.focus(),void this._handleArrowDownKey();var r=i.closest("ul"),h=i.val(),p=r.find("li span.filtrable"),d=!1;if(p.each((function(){var t=e(this);if("string"===typeof this.outerHTML){var i=this.textContent.toLowerCase();i.includes(h.toLowerCase())?t.show().parent().show():t.hide().parent().hide(),i.trim()===h.toLowerCase()&&(d=!0)}})),l)return this.isEditable&&!d?void this.addNewOption():(n&&this._handleEnterWithShiftKey(i),void this.$materialSelect.trigger("open"));h&&this.isEditable&&!d?this.$addOptionBtn.show():this.$addOptionBtn.hide(),this._updateToggleAllOption()}},{key:"_isToggleAllPresent",value:function(){return this.$materialOptionsList.find(this.$toggleAll).length}},{key:"_updateToggleAllOption",value:function(){var e=this.$materialOptionsList.find("li").not(".select-toggle-all, .disabled, :hidden").find("[type=checkbox]"),t=e.filter(":checked"),i=this.$toggleAll.find("[type=checkbox]").is(":checked");t.length!==e.length||i?t.length<e.length&&i&&this.$toggleAll.find("[type=checkbox]").prop("checked",!1):this.$toggleAll.find("[type=checkbox]").prop("checked",!0)}},{key:"_toggleSelectedValue",value:function(e){var t=this.valuesSelected.indexOf(e),i=-1!==t;return i?this.valuesSelected.splice(t,1):this.valuesSelected.push(e),this.$materialOptionsList.find("li:not(.optgroup):not(.select-toggle-all)").eq(e).toggleClass("active"),this.$nativeSelect.find("option").eq(e).prop("selected",!i),this._setValueToMaterialSelect(),!i}},{key:"_selectSingleOption",value:function(e){this.$materialOptionsList.find("li.selected").removeClass("selected"),this._selectOption(e)}},{key:"_selectOption",value:function(t){var i=e(t);i.addClass("selected")}},{key:"_setValueToMaterialSelect",value:function(){var e=this,t="",i=this.optionsSelectedLabel,s=this.valuesSelected.length;this.options.language.active&&this.$toggleAll&&(this.options.language.pl?i=this.options.language.pl.optionsSelected?this.options.language.pl.optionsSelected:this.defaults.language.pl.optionsSelected:this.options.language.fr?i=this.options.language.fr.optionsSelected?this.options.language.fr.optionsSelected:this.defaults.language.fr.optionsSelected:this.options.language.ge?i=this.options.language.ge.optionsSelected?this.options.language.ge.optionsSelected:this.defaults.language.ge.optionsSelected:this.options.language.ar?i=this.options.language.ar.optionsSelected?this.options.language.ar.optionsSelected:this.defaults.language.ar.optionsSelected:this.options.language.in&&(i=this.options.language.in.optionsSelected?this.options.language.in.optionsSelected:this.defaults.language.in.optionsSelected)),this.valuesSelected.map((function(i){return t+=", ".concat(e.$nativeSelect.find("option").eq(i).text().replace(/  +/g," ").trim())})),t=s>=5?"".concat(s," ").concat(i):t.substring(2),0===t.length&&0===this.mainLabel.length&&(t=this.$nativeSelect.find("option:disabled").eq(0).text()),t.length>0&&!this.options.BSinputText?this.mainLabel.addClass("active "):this.mainLabel.removeClass("active"),this.options.BSinputText&&this.mainLabel.css("top","-7px"),this.$nativeSelect.siblings("".concat(this.options.BSinputText?"input.multi-bs-select":"input.select-dropdown")).val(t)}},{key:"_randomUUID",value:function(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var i=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?i:3&i|8).toString(16)}))}}],[{key:"clearMutationObservers",value:function(){t.mutationObservers.forEach((function(e){e.disconnect(),e.customStatus="stopped"}))}}]),t}();e.fn.materialSelect=function(i){e(this).not(".browser-default").not(".custom-select").each((function(){var s=new t(e(this),i);s.init()}))},e.fn.material_select=e.fn.materialSelect,function(i){e.fn.val=function(e){if(!arguments.length)return i.call(this);if(!0!==this.data("stop-refresh")&&this.hasClass("mdb-select")&&this.hasClass("initialized")){t.clearMutationObservers(),this.materialSelect({destroy:!0});var s=i.call(this,e);return this.materialSelect(),s}return i.call(this,e)}}(e.fn.val)})(jQuery),$("select").siblings("input.select-dropdown","input.multi-bs-select").on("mousedown",(function(e){/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&(e.clientX>=e.target.clientWidth||e.clientY>=e.target.clientHeight)&&e.preventDefault()}));