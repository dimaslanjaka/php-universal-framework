"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function _createClass(t,e,i){return e&&_defineProperties(t.prototype,e),i&&_defineProperties(t,i),t}(function(t){var e={},i="",o="",n="#ced4da",a="1px solid #4285f4",s="1px solid #ced4da",l="0 1px 0 0 #4285f4",u="",r=13,c=38,p=40,h=-1,d=-45,f=function(){function f(r,c){_classCallCheck(this,f),this.defaults={data:e,dataColor:i,closeColor:o,closeBlurColor:n,inputFocus:a,inputBlur:s,inputFocusShadow:l,inputBlurShadow:u},this.$input=r,this.options=this.assignOptions(c),this.$clearButton=t(".mdb-autocomplete-clear"),this.$autocompleteWrap=t('<ul class="mdb-autocomplete-wrap"></ul>'),this.init()}return _createClass(f,[{key:"init",value:function(){this.setData(),this.inputFocus(),this.inputBlur(),this.inputKeyupData(),this.inputLiClick(),this.clearAutocomplete()}},{key:"assignOptions",value:function(e){return t.extend({},this.defaults,e)}},{key:"setData",value:function(){Object.keys(this.options.data).length&&this.$autocompleteWrap.insertAfter(this.$input)}},{key:"inputFocus",value:function(){var t=this;this.$input.on("focus",(function(){t.$input.css("border-bottom",t.options.inputFocus),t.$input.css("box-shadow",t.options.inputFocusShadow)}))}},{key:"inputBlur",value:function(){var t=this;this.$input.on("blur",(function(){t.$input.css("border-bottom",t.options.inputBlur),t.$input.css("box-shadow",t.options.inputBlurShadow)}))}},{key:"inputKeyupData",value:function(){var e=this;this.$input.on("keyup",(function(i){if(i.which===r)return e.options.data.includes(e.$input.val())||e.options.data.push(e.$input.val()),e.$autocompleteWrap.find(".selected").trigger("click"),e.$autocompleteWrap.empty(),e.inputBlur(),h=-1,d=-45,h;var o=e.$input.val();if(e.$autocompleteWrap.empty(),o.length){for(var n in e.options.data)if(-1!==e.options.data[n].toLowerCase().indexOf(o.toLowerCase())){var a=t("<li>".concat(e.options.data[n],"</li>"));e.$autocompleteWrap.append(a)}var s=e.$autocompleteWrap,l=e.$autocompleteWrap.find("li"),u=l.eq(h).outerHeight(),f=l.eq(h-1).outerHeight();if(i.which===p){if(h>l.length-2)return h=-1,l.scrollTop(0),void(d=-45);h++,d+=u,s.scrollTop(d),l.eq(h).addClass("selected")}else i.which===c&&(h<1?(h=l.length,s.scrollTop(s.prop("scrollHeight")),d=s.prop("scrollHeight")-u):h--,d-=f,s.scrollTop(d),l.eq(h).addClass("selected"));0===o.length?e.$clearButton.css("visibility","hidden"):e.$clearButton.css("visibility","visible"),e.$autocompleteWrap.children().css("color",e.options.dataColor)}else e.$clearButton.css("visibility","hidden")}))}},{key:"inputLiClick",value:function(){var e=this;this.$autocompleteWrap.on("click","li",(function(i){i.preventDefault(),e.$input.val(t(i.target).text()),e.$autocompleteWrap.empty()}))}},{key:"clearAutocomplete",value:function(){var e=this;this.$clearButton.on("click",(function(i){h=-1,d=-45,i.preventDefault();var o=t(i.currentTarget);o.parent().find(".mdb-autocomplete").val(""),o.css("visibility","hidden"),e.$autocompleteWrap.empty(),o.parent().find("label").removeClass("active")}))}},{key:"changeSVGcolors",value:function(){var e=this;this.$input.hasClass("mdb-autocomplete")&&(this.$input.on("click keyup",(function(i){i.preventDefault(),t(i.target).parent().find(".mdb-autocomplete-clear").find("svg").css("fill",e.options.closeColor)})),this.$input.on("blur",(function(i){i.preventDefault(),t(i.target).parent().find(".mdb-autocomplete-clear").find("svg").css("fill",e.options.closeBlurColor)})))}}]),f}();t.fn.mdbAutocomplete=function(e){return this.each((function(){new f(t(this),e)}))}})(jQuery);