(function(e){"function"===typeof define&&define.amd?define(["jquery"],e):"object"===typeof exports?module.exports=e(require("jquery")):e(jQuery)})((function(e){var a="https://www.googleapis.com/calendar/v3/calendars",o=e.fullCalendar,r=o.applyAll;function n(n,t,d,c,i){var s,u,g=a+"/"+encodeURIComponent(n.googleCalendarId)+"/events?callback=?",p=n.googleCalendarApiKey||i.opt("googleCalendarApiKey"),m=n.success;function f(a,r){var l=r||[{message:a}];(n.googleCalendarError||e.noop).apply(i,l),(i.opt("googleCalendarError")||e.noop).apply(i,l),o.warn.apply(null,[a].concat(r||[]))}return p?(t.hasZone()||(t=t.clone().utc().add(-1,"day")),d.hasZone()||(d=d.clone().utc().add(1,"day")),c&&"local"!=c&&(u=c.replace(" ","_")),s=e.extend({},n.data||{},{key:p,timeMin:t.format(),timeMax:d.format(),timeZone:u,singleEvents:!0,maxResults:9999}),e.extend({},n,{googleCalendarId:null,url:g,data:s,startParam:!1,endParam:!1,timezoneParam:!1,success:function(a){var o,n,t=[];if(a.error)f("Google Calendar API: "+a.error.message,a.error.errors);else if(a.items&&(e.each(a.items,(function(e,a){var o=a.htmlLink||null;u&&null!==o&&(o=l(o,"ctz="+u)),t.push({id:a.id,title:a.summary,start:a.start.dateTime||a.start.date,end:a.end.dateTime||a.end.date,url:o,location:a.location,description:a.description})})),o=[t].concat(Array.prototype.slice.call(arguments,1)),n=r(m,this,o),e.isArray(n)))return n;return t}})):(f("Specify a googleCalendarApiKey. See http://fullcalendar.io/docs/google_calendar/"),{})}function l(e,a){return e.replace(/(\?.*?)?(#|$)/,(function(e,o,r){return(o?o+"&":"?")+a+r}))}o.sourceNormalizers.push((function(e){var a,o=e.googleCalendarId,r=e.url;!o&&r&&(/^[^\/]+@([^\/\.]+\.)*(google|googlemail|gmail)\.com$/.test(r)?o=r:((a=/^https:\/\/www.googleapis.com\/calendar\/v3\/calendars\/([^\/]*)/.exec(r))||(a=/^https?:\/\/www.google.com\/calendar\/feeds\/([^\/]*)/.exec(r)))&&(o=decodeURIComponent(a[1])),o&&(e.googleCalendarId=o)),o&&(null==e.editable&&(e.editable=!1),e.url=o)})),o.sourceFetchers.push((function(e,a,o,r){if(e.googleCalendarId)return n(e,a,o,r,this)}))}));