jQuery(t=>{class e{constructor(e,i){this.settings={menuLeftMinBorder:.3,menuLeftMaxBorder:-.5,menuRightMinBorder:-.3,menuRightMaxBorder:.5,menuVelocityOffset:10},this.defaults={menuWidth:240,edge:"left",closeOnClick:!1,breakpoint:1440,timeDurationOpen:300,timeDurationClose:200,timeDurationOverlayOpen:50,timeDurationOverlayClose:200,easingOpen:"easeOutQuad",easingClose:"easeOutCubic",showOverlay:!0,showCloseButton:!1,slim:!1},this.$element=e,this.$elementCloned=e.clone().css({display:"inline-block",lineHeight:"24px"}),this.options=this.assignOptions(i),this.menuOut=!1,this.lastTouchVelocity={x:{startPosition:0,startTime:0,endPosition:0,endTime:0}},this.$body=t("body"),this.$menu=t("#"+this.$element.attr("data-activates")),this.$sidenavOverlay=t("#sidenav-overlay"),this.$dragTarget=t('<div class="drag-target"></div>'),this.$body.append(this.$dragTarget)}assignOptions(e){return t.extend({},this.defaults,e)}init(){this.setMenuWidth(),this.setMenuTranslation(),this.closeOnClick(),this.openOnClick(),this.bindTouchEvents(),this.showCloseButton(),this.inputOnClick(),!0===this.options.slim&&this.handleSlim()}setMenuWidth(){const e=t("#"+this.$menu.attr("id")).find("> .sidenav-bg");this.$menu.css("width",this.options.menuWidth),e.css("width",this.options.menuWidth)}setMenuTranslation(){"left"===this.options.edge?(this.$menu.css("transform","translateX(-100%)"),this.$dragTarget.css({left:0})):(this.$menu.addClass("right-aligned").css("transform","translateX(100%)"),this.$dragTarget.css({right:0})),this.$menu.hasClass("fixed")&&(window.innerWidth>this.options.breakpoint&&this.$menu.css("transform","translateX(0)"),this.$menu.find("input[type=text]").on("touchstart",()=>{this.$menu.addClass("transform-fix-input")}),t(window).on("resize",()=>{if(window.innerWidth>this.options.breakpoint)this.$sidenavOverlay.length?this.removeMenu(!0):this.$menu.css("transform","translateX(0%)");else if(!1===this.menuOut){const t="left"===this.options.edge?"-100":"100";this.$menu.css("transform",`translateX(${t}%)`)}}))}closeOnClick(){!0===this.options.closeOnClick&&(this.$menu.on("click","a:not(.collapsible-header)",()=>this.removeMenu()),"translateX(0)"===this.$menu.css("transform")&&this.$menu.on("click",()=>this.removeMenu()))}openOnClick(){this.$element.on("click",e=>{if(e.preventDefault(),!0===this.menuOut)return this.removeMenu();!0===this.options.showOverlay?t("#sidenav-overlay").length||(this.$sidenavOverlay=t('<div id="sidenav-overlay"></div>'),this.$body.append(this.$sidenavOverlay)):this.showCloseButton();let i=[];i="left"===this.options.edge?[0,-1*this.options.menuWidth]:[0,this.options.menuWidth],"matrix(1, 0, 0, 1, 0, 0)"!==this.$menu.css("transform")&&this.$menu.velocity({translateX:i},{duration:this.options.timeDurationOpen,queue:!1,easing:this.options.easingOpen}),this.$sidenavOverlay.on("click",()=>this.removeMenu()),this.$sidenavOverlay.on("touchmove",this.touchmoveEventHandler.bind(this)),this.$menu.on("touchmove",t=>{t.preventDefault(),this.$menu.find(".custom-scrollbar").css("padding-bottom","30px")}),this.menuOut=!0})}bindTouchEvents(){this.$dragTarget.on("click",()=>this.removeMenu()),this.$dragTarget.on("touchstart",t=>{this.lastTouchVelocity.x.startPosition=t.touches[0].clientX,this.lastTouchVelocity.x.startTime=Date.now()}),this.$dragTarget.on("touchmove",this.touchmoveEventHandler.bind(this)),this.$dragTarget.on("touchend",this.touchendEventHandler.bind(this))}showCloseButton(){!0===this.options.showCloseButton&&(this.$menu.prepend(this.$elementCloned),this.$menu.find(".logo-wrapper").css({borderTop:"1px solid rgba(153,153,153,.3)"}))}inputOnClick(){this.$menu.find("input[type=text]").on("touchstart",()=>this.$menu.css("transform","translateX(0)"))}removeMenu(t){this.$body.css({overflow:"",width:""}),this.$menu.velocity({translateX:"left"===this.options.edge?"-100%":"100%"},{duration:this.options.timeDurationClose,queue:!1,easing:this.options.easingClose,complete:()=>{!0===t&&(this.$menu.removeAttr("style"),this.$menu.css("width",this.options.menuWidth))}}),this.$menu.removeClass("transform-fix-input"),this.hideSidenavOverlay(),this.menuOut=!1}handleSlim(){const e=t("#toggle");e.on("click",()=>{this.$menu.hasClass("slim")?(this.$menu.removeClass("slim"),t(".sv-slim-icon").removeClass("fa-angle-double-right").addClass("fa-angle-double-left"),t(".fixed-sn .double-nav").css({transition:"all .3s ease-in-out","padding-left":"15.9rem"}),t(".fixed-sn main, .fixed-sn footer").css({transition:"all .3s ease-in-out","padding-left":"15rem"})):(this.$menu.addClass("slim"),t(".sv-slim-icon").removeClass("fa-angle-double-left").addClass("fa-angle-double-right"),t(".fixed-sn .double-nav").css("padding-left","4.6rem"),t(".fixed-sn main, .fixed-sn footer").css({"padding-left":"3.7rem"}))})}touchmoveEventHandler(t){if("touchmove"!==t.type)return;const[e]=t.touches;let i=e.clientX;Date.now()-this.lastTouchVelocity.x.startTime>20&&(this.lastTouchVelocity.x.startPosition=e.clientX,this.lastTouchVelocity.x.startTime=Date.now()),this.disableScrolling();const s=0!==this.$sidenavOverlay.length;s||this.buildSidenavOverlay(),"left"===this.options.edge&&(i>this.options.menuWidth?i=this.options.menuWidth:i<0&&(i=0)),this.translateSidenavX(i),this.updateOverlayOpacity(i)}calculateTouchVelocityX(){const t=Math.abs(this.lastTouchVelocity.x.endPosition-this.lastTouchVelocity.x.startPosition),e=Math.abs(this.lastTouchVelocity.x.endTime-this.lastTouchVelocity.x.startTime);return t/e}touchendEventHandler(t){if("touchend"!==t.type)return;const e=t.changedTouches[0];this.lastTouchVelocity.x.endTime=Date.now(),this.lastTouchVelocity.x.endPosition=e.clientX;const i=this.calculateTouchVelocityX(),s=e.clientX;let n=s-this.options.menuWidth,o=s-this.options.menuWidth/2;n>0&&(n=0),o<0&&(o=0),"left"===this.options.edge?(this.menuOut||i<=this.settings.menuLeftMinBorder||i<this.options.menuLeftMaxBorder?(0!==n&&this.translateMenuX([0,n],"300"),this.showSidenavOverlay()):(!this.menuOut||i>this.settings.menuLeftMinBorder)&&(this.enableScrolling(),this.translateMenuX([-1*this.options.menuWidth-this.options.menuVelocityOffset,n],"200"),this.hideSidenavOverlay()),this.$dragTarget.css({width:"10px",right:"",left:0})):this.menuOut&&i>=this.settings.menuRightMinBorder||i>this.settings.menuRightMaxBorder?(this.translateMenuX([0,o],"300"),this.showSidenavOverlay(),this.$dragTarget.css({width:"50%",right:"",left:0})):(!this.menuOut||i<this.settings.menuRightMinBorder)&&(this.enableScrolling(),this.translateMenuX([this.options.menuWidth+this.options.menuVelocityOffset,o],"200"),this.hideSidenavOverlay(),this.$dragTarget.css({width:"10px",right:0,left:""}))}buildSidenavOverlay(){!0===this.options.showOverlay&&(this.$sidenavOverlay=t('<div id="sidenav-overlay"></div>'),this.$sidenavOverlay.css("opacity",0).on("click",()=>this.removeMenu()),this.$body.append(this.$sidenavOverlay))}disableScrolling(){const t=this.$body.innerWidth();this.$body.css("overflow","hidden"),this.$body.width(t)}enableScrolling(){this.$body.css({overflow:"",width:""})}translateMenuX(t,e){this.$menu.velocity({translateX:t},{duration:"string"===typeof e?Number(e):e,queue:!1,easing:this.options.easingOpen})}translateSidenavX(t){if("left"===this.options.edge){const e=t>=this.options.menuWidth/2;this.menuOut=e,this.$menu.css("transform",`translateX(${t-this.options.menuWidth}px)`)}else{const e=t<window.innerWidth-this.options.menuWidth/2;this.menuOut=e;let i=t-this.options.menuWidth/2;i<0&&(i=0),this.$menu.css("transform",`translateX(${i}px)`)}}updateOverlayOpacity(t){let e;e="left"===this.options.edge?t/this.options.menuWidth:Math.abs((t-window.innerWidth)/this.options.menuWidth),this.$sidenavOverlay.velocity({opacity:e},{duration:10,queue:!1,easing:this.options.easingOpen})}showSidenavOverlay(){!0!==this.options.showOverlay||t("#sidenav-overlay").length||this.buildSidenavOverlay(),this.$sidenavOverlay.velocity({opacity:1},{duration:this.options.timeDurationOverlayOpen,queue:!1,easing:this.options.easingOpen})}hideSidenavOverlay(){this.$sidenavOverlay.velocity({opacity:0},{duration:this.options.timeDurationOverlayClose,queue:!1,easing:this.options.easingOpen,complete(){t(this).remove()}})}}t.fn.sideNav=function(i){t(this).each((function(){const s=new e(t(this),i);s.init()}))},t(".side-nav").on("touchmove",(function(t){t.stopPropagation()}),!1)});