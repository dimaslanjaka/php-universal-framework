(t=>{const i={},s="",o="",e="#ced4da",l="1px solid #4285f4",n="1px solid #ced4da",p="0 1px 0 0 #4285f4",a="",u=13,c=38,r=40;let h=-1,d=-45;class m{constructor(u,c){this.defaults={data:i,dataColor:s,closeColor:o,closeBlurColor:e,inputFocus:l,inputBlur:n,inputFocusShadow:p,inputBlurShadow:a},this.$input=u,this.options=this.assignOptions(c),this.$clearButton=t(".mdb-autocomplete-clear"),this.$autocompleteWrap=t('<ul class="mdb-autocomplete-wrap"></ul>'),this.init()}init(){this.setData(),this.inputFocus(),this.inputBlur(),this.inputKeyupData(),this.inputLiClick(),this.clearAutocomplete()}assignOptions(i){return t.extend({},this.defaults,i)}setData(){Object.keys(this.options.data).length&&this.$autocompleteWrap.insertAfter(this.$input)}inputFocus(){this.$input.on("focus",()=>{this.$input.css("border-bottom",this.options.inputFocus),this.$input.css("box-shadow",this.options.inputFocusShadow)})}inputBlur(){this.$input.on("blur",()=>{this.$input.css("border-bottom",this.options.inputBlur),this.$input.css("box-shadow",this.options.inputBlurShadow)})}inputKeyupData(){this.$input.on("keyup",i=>{if(i.which===u)return this.options.data.includes(this.$input.val())||this.options.data.push(this.$input.val()),this.$autocompleteWrap.find(".selected").trigger("click"),this.$autocompleteWrap.empty(),this.inputBlur(),h=-1,d=-45,h;const s=this.$input.val();if(this.$autocompleteWrap.empty(),s.length){for(const i in this.options.data)if(-1!==this.options.data[i].toLowerCase().indexOf(s.toLowerCase())){const s=t(`<li>${this.options.data[i]}</li>`);this.$autocompleteWrap.append(s)}const o=this.$autocompleteWrap,e=this.$autocompleteWrap.find("li"),l=e.eq(h).outerHeight(),n=e.eq(h-1).outerHeight();if(i.which===r){if(h>e.length-2)return h=-1,e.scrollTop(0),void(d=-45);h++,d+=l,o.scrollTop(d),e.eq(h).addClass("selected")}else i.which===c&&(h<1?(h=e.length,o.scrollTop(o.prop("scrollHeight")),d=o.prop("scrollHeight")-l):h--,d-=n,o.scrollTop(d),e.eq(h).addClass("selected"));0===s.length?this.$clearButton.css("visibility","hidden"):this.$clearButton.css("visibility","visible"),this.$autocompleteWrap.children().css("color",this.options.dataColor)}else this.$clearButton.css("visibility","hidden")})}inputLiClick(){this.$autocompleteWrap.on("click","li",i=>{i.preventDefault(),this.$input.val(t(i.target).text()),this.$autocompleteWrap.empty()})}clearAutocomplete(){this.$clearButton.on("click",i=>{h=-1,d=-45,i.preventDefault();const s=t(i.currentTarget);s.parent().find(".mdb-autocomplete").val(""),s.css("visibility","hidden"),this.$autocompleteWrap.empty(),s.parent().find("label").removeClass("active")})}changeSVGcolors(){this.$input.hasClass("mdb-autocomplete")&&(this.$input.on("click keyup",i=>{i.preventDefault(),t(i.target).parent().find(".mdb-autocomplete-clear").find("svg").css("fill",this.options.closeColor)}),this.$input.on("blur",i=>{i.preventDefault(),t(i.target).parent().find(".mdb-autocomplete-clear").find("svg").css("fill",this.options.closeBlurColor)}))}}t.fn.mdbAutocomplete=function(i){return this.each((function(){new m(t(this),i)}))}})(jQuery);