(function(t){const e=".range-field",n="input[type=range]:not(.custom-range):not(.multi-range)",s='<span class="thumb"><span class="value"></span></span>';let i,o=!1;function a(){const e=t(s);t(n).after(e)}t(document).on("change",n,(function(){const e=t(this),n=e.siblings(".thumb").find(".value");n.html(e.val())})),t(document).on("input mousedown touchstart",n,(function(e){const n=t(this),s=n.siblings(".thumb"),l=n.outerWidth(),u=!s.length;if(u&&a(),s.find(".value").html(n.val()),o=!0,n.addClass("active"),s.hasClass("active")||s.velocity({height:"30px",width:"30px",top:"-20px",marginLeft:"-15px"},{duration:300,easing:"easeOutExpo"}),"input"!==e.type){const n=void 0===e.pageX||null===e.pageX;i=n?e.originalEvent.touches[0].pageX-t(this).offset().left:e.pageX-t(this).offset().left,i<0?i=0:i>l&&(i=l),s.addClass("active").css("left",i)}s.find(".value").html(n.val())})),t(document).on("mouseup touchend",e,(function(){o=!1,t(this).removeClass("active")})),t(document).on("mousemove touchmove",e,(function(e){const s=t(this).children(".thumb");let i;if(o){s.hasClass("active")||s.velocity({height:"30px",width:"30px",top:"-20px",marginLeft:"-15px"},{duration:300,easing:"easeOutExpo"});const o=void 0===e.pageX||null===e.pageX;i=o?e.originalEvent.touches[0].pageX-t(this).offset().left:e.pageX-t(this).offset().left;const a=t(this).outerWidth();i<0?i=0:i>a&&(i=a),s.addClass("active").css("left",i),s.find(".value").html(s.siblings(n).val())}})),t(document).on("mouseout touchleave",e,(function(){if(!o){const e=t(this).children(".thumb");e.hasClass("active")&&e.velocity({height:"0",width:"0",top:"10px",marginLeft:"-6px"},{duration:100}),e.removeClass("active")}}))})(jQuery);