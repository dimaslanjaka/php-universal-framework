(t=>{const e=["text","password","email","url","tel","number","search","search-md"].map(t=>`input[type=${t}]`).join(", ")+", textarea",a=".materialize-textarea",s=t=>{const e=t.siblings("label, i"),a=t.val().length,s=t.attr("placeholder"),i=(a||s?"add":"remove")+"Class";e[i]("active")},i=t=>{if(t.hasClass("validate")){const e=t.val(),a=!e.length,s=!t[0].validity.badInput;if(a&&s)t.removeClass("valid").removeClass("invalid");else{const a=t.is(":valid"),s=Number(t.attr("length"))||0;a&&(!s||s>e.length)?t.removeClass("invalid").addClass("valid"):t.removeClass("valid").addClass("invalid")}}},n=()=>{const e=t(this);if(e.val().length){const a=t(".hiddendiv"),s=e.css("font-family"),i=e.css("font-size");i&&a.css("font-size",i),s&&a.css("font-family",s),"off"===e.attr("wrap")&&a.css("overflow-wrap","normal").css("white-space","pre"),a.text(e.val()+"\n");const n=a.html().replace(/\n/g,"<br>");a.html(n),a.css("width",e.is(":visible")?e.width():t(window).width()/2),e.css("height",a.height())}};function l(){const e=t(".md-textarea-auto");if(e.length){let t;t=window.attachEvent?function(t,e,a){t.attachEvent("on"+e,a)}:function(t,e,a){t.addEventListener(e,a,!1)},e.each((function(){const e=this;function a(){e.style.height="auto",e.style.height=e.scrollHeight+"px"}function s(){window.setTimeout(a,0)}t(e,"change",a),t(e,"cut",s),t(e,"paste",s),t(e,"drop",s),t(e,"keydown",s),a()}))}}t(e).each((e,a)=>{const i=t(a),n=i.siblings("label, i");s(i);const l=a.validity.badInput;l&&n.addClass("active")}),t(document).on("focus",e,e=>{t(e.target).siblings("label, i").addClass("active")}),t(document).on("blur",e,e=>{const a=t(e.target),s=!a.val(),n=!e.target.validity.badInput,l=void 0===a.attr("placeholder");s&&n&&l&&a.siblings("label, i").removeClass("active"),i(a)}),t(document).on("change",e,e=>{const a=t(e.target);s(a),i(a)}),t("input[autofocus]").siblings("label, i").addClass("active"),t(document).on("reset",a=>{const s=t(a.target);if(s.is("form")){const a=s.find(e);a.removeClass("valid").removeClass("invalid").each((e,a)=>{const s=t(a),i=!s.val(),n=!s.attr("placeholder");i&&n&&s.siblings("label, i").removeClass("active")}),s.find("select.initialized").each((e,a)=>{const s=t(a),i=s.siblings("input.select-dropdown"),n=s.children("[selected]").val();s.val(n),i.val(n)})}}),l();const o=t("body");if(!t(".hiddendiv").first().length){const e=t('<div class="hiddendiv common"></div>');o.append(e)}t(a).each(n),o.on("keyup keydown",a,n);const c=t('input[type="date"]');c.each((t,e)=>{e.type="text"}),c.on("focus",t=>{t.target.type="date"}),c.on("blur",e=>{e.target.type="text",t(`label[for=${e.target.id}]`).removeClass("active")})})(jQuery);