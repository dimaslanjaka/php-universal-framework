var socket,packages={local:[],global:[]};function renderDatatables(){$("#local").DataTable({destroy:!0,dom:"Bfrtip",processing:!1,serverSide:!1,stateSave:!0,autoWidth:!1,responsive:!0,deferRender:!0,paging:!0,lengthMenu:[5,10,15,20,25,30,100,200,300,400,500,"All"],buttons:[{text:"Refresh",action:function(e,t,n,a){t.clear().draw(),t.ajax.reload(),LoadSocket().emit("fetch")}}],ajax:{url:"fetch",method:"POST",data:{local:"true"},dataType:"json",dataSrc:function(e,t,n){if("object"==typeof e&&e.hasOwnProperty("dependencies")&&e.hasOwnProperty("dependencies"))for(const a in e.dependencies)if(e.dependencies.hasOwnProperty(a)){const t=e.dependencies[a];packages.local.push({name:a,version:t.version})}return console.log(packages),packages.local}},columns:[{title:"package",data:"name"},{title:"installed",data:"version"}]}),$(".mdb-select").not(".select-wrapper").materialSelect(),$(".dt-button").addClass("btn btn-primary btn-sm")}function LoadSocket(e){return socket||(socket=io.connect("/"),socket.on("announcements",(function(e){console.log("Got announcement:",e.message)})),socket.on("stats",(function(e){console.log("Connected clients:",e.numClients)}))),socket}$(document).ready((function(){datatables_init().then(renderDatatables)})),LoadScript("/socket.io/socket.io.js",LoadSocket);