!function(u){"use strict";function t(){return document.fullscreen||document.mozFullScreen||document.webkitIsFullScreen||!1}function r(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen()}var e;u.support.fullscreen="requestFullscreen"in(e=document.documentElement)||"mozRequestFullScreen"in e&&document.mozFullScreenEnabled||"webkitRequestFullScreen"in e,u.fn.fullScreen=function(e){if(!u.support.fullscreen||1!==this.length)return this;if(t())return r(),this;var n=u.extend({background:"#111",callback:u.noop(),fullscreenClass:"fullScreen"},e),l=this,c=u("<div>",{css:{"overflow-y":"auto",background:n.background,width:"100%",height:"100%"}}).insertBefore(l).append(l);return l.addClass(n.fullscreenClass),function(e){e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullScreen&&e.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)}(c.get(0)),c.click(function(e){e.target==this&&r()}),l.cancel=function(){return r(),l},function(e){u(document).on("fullscreenchange mozfullscreenchange webkitfullscreenchange",function(){e(t())})}(function(e){e||(u(document).off("fullscreenchange mozfullscreenchange webkitfullscreenchange"),l.removeClass(n.fullscreenClass).insertBefore(c),c.remove()),n.callback&&n.callback(e)}),l},u.fn.cancelFullScreen=function(){return r(),this}}(jQuery);