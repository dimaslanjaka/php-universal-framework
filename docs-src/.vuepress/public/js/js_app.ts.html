

<!DOCTYPE html>
<html lang="en">

<head>
  <script data-ad-client="ca-pub-1165447249910969" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-106238155-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-106238155-1');
</script>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Universal Framework Javascript Documentation js/app.ts</title>

  <script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="./build/entry.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
  <link href="https://fonts.googleapis.com/css?family=Roboto:100,400,700|Inconsolata,700" rel="stylesheet">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
  <link type="text/css" rel="stylesheet" href="https://jmblog.github.io/color-themes-for-google-code-prettify/themes/tomorrow-night.min.css">
  <link type="text/css" rel="stylesheet" href="styles/app.min.css">
  <link type="text/css" rel="stylesheet" href="styles/iframe.css">
  <link type="text/css" rel="stylesheet" href="">
  <script async defer src="https://buttons.github.io/buttons.js"></script>

  
</head>



<body class="layout small-header">
    <div id="stickyNavbarOverlay"></div>
    

<div class="top-nav">
    <div class="inner">
        <a id="hamburger" role="button" class="navbar-burger" aria-label="menu" aria-expanded="false">
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
        </a>
        <div class="logo">
            
             
                <a href="index.html">
                    <h1 class="navbar-item">Universal Framework Javascript Documentation</h1>
                </a>
            
        </div>
        <div class="menu">
            
            <div class="navigation">
                <a
                    href="index.html"
                    class="link"
                >
                    API Documentation
                </a>
                
                <div class="dropdown is-hoverable is-right">
                    <a class="dropdown-trigger link">
                        Tutorials
                        <i class="fas fa-chevron-down fa-xs"></i>
                    </a>
                    <div class="dropdown-menu">
                        <div class="dropdown-content">
                        
                            <a class="dropdown-item" href="tutorial-node-localstorage.html">
                                node-localstorage
                            </a>
                        
                        </div>
                    </div>
                </div>
                
                 
                    
                        <a
                            class="link user-link "
                            href="https://github.com/dimaslanjaka/universal-framework"
                        >
                            Github
                        </a>
                    
                        <a
                            class="link user-link "
                            href="/universal-framework/php"
                        >
                            PHP API
                        </a>
                    
                        <a
                            class="link user-link "
                            href="https://webmanajemen.com"
                        >
                            Blog
                        </a>
                    
                
                
            </div>
        </div>
    </div>
</div>
    <div id="main">
        <div
            class="sidebar "
            id="sidebarNav"
        >
            
                <div class="search-wrapper">
                    <input id="search" type="text" placeholder="Search docs..." class="input">
                </div>
            
            <nav>
                
                    <h2><a href="index.html">Documentation</a></h2><div class="category"><h3>Classes</h3><ul><li><a href="ajaxScheduler.html">ajaxScheduler</a></li><li><a href="Cookies.html">Cookies</a></li><li><a href="core.html">core</a></li><li><a href="GeneratorID.html">GeneratorID</a></li><li><a href="ip.html">ip</a></li><li><a href="Timer.html">Timer</a></li><li><a href="user.html">user</a></li><li><a href="ZLIB.html">ZLIB</a></li></ul><h3>Interfaces</h3><ul><li><a href="Array.html">Array</a></li><li><a href="Console.html">Console</a></li><li><a href="createElementOpt.html">createElementOpt</a></li><li><a href="HTMLScriptElement.html">HTMLScriptElement</a></li><li><a href="String.html">String</a></li><li><a href="Window.html">Window</a></li></ul><h3>Global</h3><ul><li><a href="global.html#___call">___call</a></li><li><a href="global.html#__call">__call</a></li><li><a href="global.html#aesDecrypt">aesDecrypt</a></li><li><a href="global.html#aesEncrypt">aesEncrypt</a></li><li><a href="global.html#aform">aform</a></li><li><a href="global.html#AJAX">AJAX</a></li><li><a href="global.html#AjaxForm">AjaxForm</a></li><li><a href="global.html#ajaxRun">ajaxRun</a></li><li><a href="global.html#ajx">ajx</a></li><li><a href="global.html#analys">analys</a></li><li><a href="global.html#array_keys">array_keys</a></li><li><a href="global.html#array_rand">array_rand</a></li><li><a href="global.html#array_remove">array_remove</a></li><li><a href="global.html#array_shuffle">array_shuffle</a></li><li><a href="global.html#array_unique">array_unique</a></li><li><a href="global.html#array_unset">array_unset</a></li><li><a href="global.html#asset">asset</a></li><li><a href="global.html#async">async</a></li><li><a href="global.html#async_exec">async_exec</a></li><li><a href="global.html#async_process">async_process</a></li><li><a href="global.html#async_this">async_this</a></li><li><a href="global.html#autoHeight_">autoHeight_</a></li><li><a href="global.html#bannedebug">bannedebug</a></li><li><a href="global.html#Base64">Base64</a></li><li><a href="global.html#base64_decode">base64_decode</a></li><li><a href="global.html#base64_encode">base64_encode</a></li><li><a href="global.html#base64_valid">base64_valid</a></li><li><a href="global.html#binl2rstr">binl2rstr</a></li><li><a href="global.html#binlMD5">binlMD5</a></li><li><a href="global.html#bitRotateLeft">bitRotateLeft</a></li><li><a href="global.html#build">build</a></li><li><a href="global.html#call_user_func">call_user_func</a></li><li><a href="global.html#compileAssets">compileAssets</a></li><li><a href="global.html#config_builder">config_builder</a></li><li><a href="global.html#copyToClipboard">copyToClipboard</a></li><li><a href="global.html#count">count</a></li><li><a href="global.html#countNewLines">countNewLines</a></li><li><a href="global.html#countries">countries</a></li><li><a href="global.html#createAlert">createAlert</a></li><li><a href="global.html#createApp">createApp</a></li><li><a href="global.html#createElement">createElement</a></li><li><a href="global.html#createJSON">createJSON</a></li><li><a href="global.html#createStyle">createStyle</a></li><li><a href="global.html#CryptoD">CryptoD</a></li><li><a href="global.html#CryptoE">CryptoE</a></li><li><a href="global.html#CryptoK">CryptoK</a></li><li><a href="global.html#datatables_colums_options">datatables_colums_options</a></li><li><a href="global.html#datatables_init">datatables_init</a></li><li><a href="global.html#datatables_optimize">datatables_optimize</a></li><li><a href="global.html#datetimelocal">datetimelocal</a></li><li><a href="global.html#debug_detect">debug_detect</a></li><li><a href="global.html#disable_button">disable_button</a></li><li><a href="global.html#doc">doc</a></li><li><a href="global.html#dumpAjax">dumpAjax</a></li><li><a href="global.html#elm">elm</a></li><li><a href="global.html#empty">empty</a></li><li><a href="global.html#enable_button">enable_button</a></li><li><a href="global.html#execute">execute</a></li><li><a href="global.html#extend_object">extend_object</a></li><li><a href="global.html#extend_setting_form">extend_setting_form</a></li><li><a href="global.html#findDups">findDups</a></li><li><a href="global.html#fixDeps">fixDeps</a></li><li><a href="global.html#forceSSL">forceSSL</a></li><li><a href="global.html#foreach">foreach</a></li><li><a href="global.html#formatNewLines">formatNewLines</a></li><li><a href="global.html#formsaver">formsaver</a></li><li><a href="global.html#framework">framework</a></li><li><a href="global.html#generateRandomString">generateRandomString</a></li><li><a href="global.html#get_currency_symbol">get_currency_symbol</a></li><li><a href="global.html#get_unique_id">get_unique_id</a></li><li><a href="global.html#getAnyClass">getAnyClass</a></li><li><a href="global.html#getCountries">getCountries</a></li><li><a href="global.html#getFuncName">getFuncName</a></li><li><a href="global.html#getKey">getKey</a></li><li><a href="global.html#getLatestVersion">getLatestVersion</a></li><li><a href="global.html#getLocationHash">getLocationHash</a></li><li><a href="global.html#getNativeClass">getNativeClass</a></li><li><a href="global.html#geToken">geToken</a></li><li><a href="global.html#getParameterByName">getParameterByName</a></li><li><a href="global.html#getRandom">getRandom</a></li><li><a href="global.html#gexec">gexec</a></li><li><a href="global.html#guid">guid</a></li><li><a href="global.html#hexHMACMD5">hexHMACMD5</a></li><li><a href="global.html#hexMD5">hexMD5</a></li><li><a href="global.html#http_build_query">http_build_query</a></li><li><a href="global.html#in_array">in_array</a></li><li><a href="global.html#inArray">inArray</a></li><li><a href="global.html#indicatorAjax">indicatorAjax</a></li><li><a href="global.html#inputrp">inputrp</a></li><li><a href="global.html#is_development">is_development</a></li><li><a href="global.html#is_localhost">is_localhost</a></li><li><a href="global.html#isBrowser">isBrowser</a></li><li><a href="global.html#isJSON">isJSON</a></li><li><a href="global.html#isMobile">isMobile</a></li><li><a href="global.html#isnode">isnode</a></li><li><a href="global.html#isNode">isNode</a></li><li><a href="global.html#isOffline">isOffline</a></li><li><a href="global.html#jAjax">jAjax</a></li><li><a href="global.html#JavaScriptCaller">JavaScriptCaller</a></li><li><a href="global.html#json_decode">json_decode</a></li><li><a href="global.html#L">L</a></li><li><a href="global.html#list_package">list_package</a></li><li><a href="global.html#load_datatables">load_datatables</a></li><li><a href="global.html#load_disqus">load_disqus</a></li><li><a href="global.html#load_module">load_module</a></li><li><a href="global.html#load_requirejs">load_requirejs</a></li><li><a href="global.html#loadCodemirror">loadCodemirror</a></li><li><a href="global.html#loadCSS">loadCSS</a></li><li><a href="global.html#LoadScript">LoadScript</a></li><li><a href="global.html#makeid">makeid</a></li><li><a href="global.html#md5">md5</a></li><li><a href="global.html#md5cmn">md5cmn</a></li><li><a href="global.html#md5ff">md5ff</a></li><li><a href="global.html#md5gg">md5gg</a></li><li><a href="global.html#md5hh">md5hh</a></li><li><a href="global.html#md5ii">md5ii</a></li><li><a href="global.html#module_exists">module_exists</a></li><li><a href="global.html#multiMinify">multiMinify</a></li><li><a href="global.html#object_join">object_join</a></li><li><a href="global.html#oddoreven">oddoreven</a></li><li><a href="global.html#onlyUnique">onlyUnique</a></li><li><a href="global.html#openInNewTab">openInNewTab</a></li><li><a href="global.html#pagination_up">pagination_up</a></li><li><a href="global.html#parse_proxy">parse_proxy</a></li><li><a href="global.html#parseNumber">parseNumber</a></li><li><a href="global.html#parsePackageString">parsePackageString</a></li><li><a href="global.html#prepEntities">prepEntities</a></li><li><a href="global.html#pseudo_builder">pseudo_builder</a></li><li><a href="global.html#Queue">Queue</a></li><li><a href="global.html#random_rgba">random_rgba</a></li><li><a href="global.html#rawHMACMD5">rawHMACMD5</a></li><li><a href="global.html#rawMD5">rawMD5</a></li><li><a href="global.html#readFile">readFile</a></li><li><a href="global.html#recaptcha">recaptcha</a></li><li><a href="global.html#resolve_dir">resolve_dir</a></li><li><a href="global.html#restrict_mode">restrict_mode</a></li><li><a href="global.html#rp">rp</a></li><li><a href="global.html#rstr2binl">rstr2binl</a></li><li><a href="global.html#rstr2hex">rstr2hex</a></li><li><a href="global.html#rstrHMACMD5">rstrHMACMD5</a></li><li><a href="global.html#rstrMD5">rstrMD5</a></li><li><a href="global.html#safeAdd">safeAdd</a></li><li><a href="global.html#salt">salt</a></li><li><a href="global.html#select2Country">select2Country</a></li><li><a href="global.html#setEventListener">setEventListener</a></li><li><a href="global.html#shuffle">shuffle</a></li><li><a href="global.html#single_tsCompile">single_tsCompile</a></li><li><a href="global.html#socket">socket</a></li><li><a href="global.html#stacktrace">stacktrace</a></li><li><a href="global.html#storage">storage</a></li><li><a href="global.html#str2rstrUTF8">str2rstrUTF8</a></li><li><a href="global.html#strpad">strpad</a></li><li><a href="global.html#tafocus">tafocus</a></li><li><a href="global.html#textAreas">textAreas</a></li><li><a href="global.html#toogleClass">toogleClass</a></li><li><a href="global.html#trycatch">trycatch</a></li><li><a href="global.html#typescriptCompiler">typescriptCompiler</a></li><li><a href="global.html#uniqid">uniqid</a></li><li><a href="global.html#userJSDecrypt">userJSDecrypt</a></li><li><a href="global.html#userJSEncrypt">userJSEncrypt</a></li><li><a href="global.html#uuidv4">uuidv4</a></li><li><a href="global.html#views">views</a></li><li><a href="global.html#writeFile">writeFile</a></li><li><a href="global.html#writenow">writenow</a></li></ul></div>
                
            </nav>
        </div>
        <div class="core" id="main-content-wrapper">
            <div class="content">
                <header class="page-title">
                    <p>Source</p>
                    <h1>js/app.ts</h1>
                </header>
                



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/// &lt;reference path="_Prototype-String.ts" />

let ORIGIN: any;
if (isnode()) {
  // eslint-disable-next-line @typescript-eslint/no-var-requires
  const process = require("process");
  ORIGIN = process.cwd();
} else {
  ORIGIN = location.protocol + "//" + location.host + location.pathname;
}
let IP: string;

class dimas {
  /**
   * get current url without querystrings
   */
  static url = ORIGIN;
  static ip: any = null;

  static setIp(ip: any) {
    this.ip = ip;
    IP = ip;
  }

  static getIp() {
    return this.ip;
  }

  /**
   * framework captcha
   */
  static captcha = {
    /**
     * DO NOT ASSIGN THIS
     */
    check: null as NodeJS.Timer,
    /**
     * Get current captcha id
     */
    id(header_name: string | null): string {
      if (!this.captcha.check) {
        this.captcha.get(header_name);
      }
      return storage().get("captcha");
    },
    /**
     * Get current captcha from backend
     * And process it by jsonpCallback
     */
    get(header_name: null | string): void {
      if (!this.captcha.check) {
        this.captcha.check = setTimeout(() => {
          this.captcha.get(header_name);
        }, 60000);
      }
      const ua = md5(navigator.userAgent).rot13();

      $.ajax({
        url: this.url + "?login=" + guid(),
        method: "POST",
        headers: {
          Accept: "application/javascript",
          [header_name]: ua,
          [IP.rot13()]: ua,
        },
        dataType: "jsonp",
        jsonpCallback: "framework().captcha.jspCallback",
      });
    },

    // eslint-disable-next-line @typescript-eslint/no-empty-function
    callback(arg?: any) {},

    /**
     * Captcha JSONP callback
     */
    jspCallback(res: { captcha: string }) {
      if (res.hasOwnProperty("captcha")) {
        storage().set("captcha", res.captcha.rot13());
        this.captcha.callback(storage().get("captcha"));
        this.captcha.listen();
      }
    },
    listener_started: null as any | string,
    /**
     * Form Captcha listener
     */
    listen() {
      if (this.captcha.listener_started) {
        return null;
      }
      this.captcha.listener_started = new Date().toISOString();
      return $(document).on("focus", "form[captcha]", function (e) {
        let captcha = $(this).find('[name="captcha"]');
        if (!captcha.length) {
          $(this).append('&lt;input type="hidden" name="captcha" id="' + guid() + '" />');
          captcha = $(this).find('[name="captcha"]');
        }
        if (captcha.length) {
          captcha.val(storage().get("captcha").rot13());
        }
        const form = captcha.parents("form");
        const button = form.find('[type="submit"]');
        form.one("submit", function (e) {
          e.preventDefault();
          console.log("submit with captcha");
          button.prop("disabled", true);
          this.captcha.callback = function () {
            button.prop("disabled", false);
          };
          this.captcha.get(null);
          form.off("submit");
        });
        //captcha.parents('form').find('[type="submit"]').one('click', function());
      });
    },
  };

  /**
   * Count Array/Object/String length
   * @param {any[]|string|object} data
   */
  count(data: any[] | string | object) {
    if (Array.isArray(data) || typeof data == "string") {
      return data.length;
    } else if (typeof data == "object") {
      return Object.keys(data).length;
    } else if (typeof data == "number") {
      return data;
    }
  }

  /**
   * Make async function
   * @param callback
   */
  async(callback: any) {
    return new Promise(function (resolve, reject) {
      if (typeof callback == "function") {
        callback();
      }
      resolve(true);
    });
  }

  /**
   * Check if variable is number / numeric
   * @param {String|Number} v
   */
  isNumber(v: string | number) {
    return !isNaN(parseInt(v.toString()) - parseFloat(v.toString())) &amp;&amp; /^\d+$/.test(v.toString());
  }

  /**
   * Check if valid url
   * @param url url address
   */
  isURL(url: string) {
    if (url.startsWith("/")) {
      console.log("url type is local");
      return true;
    }
    let result: URL;
    try {
      result = new URL(url);
    } catch (_) {
      return false;
    }

    return result.protocol === "http:" || result.protocol === "https:";
  }

  /**
   * Check url is valid and reachable
   * @param url url address
   * @param callback callback function
   */
  isURLReachable(url: string, callback: (arg0: boolean, arg1: string) => any) {
    if (this.isURL(url)) {
      const myRequest = new Request(url);

      fetch(myRequest).then(function (response) {
        console.log(`${response.status} - ${url}`);
        if (response.status == 200) {
          callback(true, url);
        }
      });
    }
  }

  /**
   * Get Query name from current url
   */
  getquery(variable: any) {
    const query = window.location.search.substring(1);
    const vars = query.split("&amp;");
    for (let i = 0; i &lt; vars.length; i++) {
      const pair = vars[i].split("=");
      if (pair[0] == variable) {
        return pair[1];
      }
    }
    return false;
  }

  recode(content: string, passcode: string) {
    let i;
    const result = [];
    let str = "";
    const codesArr = JSON.parse(content);
    const passLen = passcode.length;

    for (i = 0; i &lt; codesArr.length; i++) {
      const passOffset = i % passLen;
      const calAscii = codesArr[i] - passcode.charCodeAt(passOffset);
      result.push(calAscii);
    }

    for (i = 0; i &lt; result.length; i++) {
      const ch = String.fromCharCode(result[i]);
      str += ch;
    }
    return str;
  }

  /**
   * Countdown trigger
   * @param {JQuery} elm
   */
  pctdRUN(elm: JQuery) {
    const tl = parseInt(elm.attr("countdown")) > 0 ? elm.attr("countdown") : 5,
      bs = elm.data("base") ? elm.data("base") : "bg-info",
      bw = elm.data("warning") ? elm.data("warning") : "bg-danger",
      bc = elm.data("success") ? elm.data("success") : "bg-success",
      countdown = elm.progressBarTimer({
        warningThreshold: 5,
        timeLimit: tl,

        // base style
        baseStyle: bs,

        // warning style
        warningStyle: bw,

        // complete style
        completeStyle: bc,

        // should the timer be smooth or stepping
        smooth: true,

        // striped progress bar
        striped: true,

        // animated stripes
        animated: true,

        // height of progress bar
        // 0 = default height
        height: 0,
        onFinish() {
          const callback = elm.data("callback");
          if (callback) {
            const xn = window[callback];
            if (typeof xn == "function") {
              const x = eval(callback);
              x();
            } else {
              console.log(callback + " isn't function ");
            }
          }
        },
        label: {
          show: true,
          type: "percent", // or 'seconds' => 23/60
        },
        autoStart: true,
      });
    return countdown;
  }

  /**
   * Progress Countdown
   * @param {JQuery} elm
   */
  pctd(elm: JQuery) {
    if (typeof progressBarTimer == "undefined") {
      LoadScript({
        url: "https://cdn.jsdelivr.net/gh/dimaslanjaka/Web-Manajemen@master/js/jquery.progressBarTimer.js",
        callback: function () {
          this.pctdRUN(elm);
        },
      });
    } else {
      window.onload = function (params: any) {
        this.pctdRUN(elm);
      };
    }
  }

  /**
   * Parseurl just like as parse_url at php
   */
  parseurl(url: string) {
    return url.parse_url();
  }
}

/**
 * Framework object initializer
 */
function framework() {
  return new dimas();
}

class app {
  static base = "/src/MVC/themes/assets/js/";

  static setbase(path: string) {
    this.base = path;
  }

  static direct(...args: string[]) {
    const scripts = document.querySelectorAll("script[src]");
    const last = scripts[scripts.length - 1];
    const lastsrc = last.getAttribute("src");
    const parsed = framework().parseurl(lastsrc);
    args.forEach(function (src) {
      LoadScript({
        url: `${app.base}${src}${parsed.search}`,
        callback: function () {
          console.log(`${src} engine inbound`);
        },
      });
    });
  }

  static load(...args: any[]) {
    const scripts = document.querySelectorAll("script[src]");
    const last = scripts[scripts.length - 1];
    const lastsrc = last.getAttribute("src");
    const parsed = framework().parseurl(lastsrc);
    args.forEach(function (key, index) {
      console.log(key, app.base);
      let src = "";
      if (/^(ajx|ajaxjQuery|ajxjquery|ajquery)$/s.test(key)) {
        src = "ajaxJquery.js";
      } else if (/^(ajv|ajaxVanilla|ajaxv|avanilla)$/s.test(key)) {
        src = "ajaxVanilla.js";
      }

      if (src != "") {
        LoadScript({
          url: `${app.base}${src}${parsed.search}`,
          callback: function () {
            console.log(`${src} engine inbound`);
          },
        });
      }
    });
  }
}

if (typeof module !== "undefined" &amp;&amp; module.exports) {
  module.exports.app = app;
  module.exports.dimas = dimas;
}

//app.direct('Array.js', 'Object.js', 'saver.js', 'user.js');
</code></pre>
        </article>
    </section>




            </div>
            
        </div>
        <div id="side-nav" class="side-nav">
        </div>
    </div>
<script src="scripts/app.min.js"></script>
<script>PR.prettyPrint();</script>
<script src="scripts/linenumber.js"> </script>

<script src="scripts/search.js"> </script>

</body>
</html>
