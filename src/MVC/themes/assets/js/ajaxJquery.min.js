var AJAX=null,dumpAjax=!1,indicatorAjax=!1,ajaxIDLoader="ajxLoader_"+Math.random().toString(36).substring(2)+Date.now().toString(36);function successAjax(e,t){"function"==typeof t?t(e):"string"==typeof t?call_user_func(t,window,e):console.log(t+" isnt success callback, instead of "+typeof t)}function ajx(e,t,o,r){return e.headers={"unique-id":getUID()},e.success=function(e){successAjax(e,t)},e.error=function(e){toastr.error("ajax request error","ajax")},e.hasOwnProperty("indicator")||(e.indicator=!0),e.hasOwnProperty("method")||(e.method="POST"),$.ajax(e)}function AjaxForm(){$(document).on("submit","form",(function(e){e.preventDefault();var t=$(this),o=t.data("success"),r=t.data("error"),a=t.data("complete");ajx({url:t.attr("action"),method:t.attr("method"),data:t.serialize()},o,r,a)}))}$("#"+ajaxIDLoader).length||($("body").append('<div id="'+ajaxIDLoader+'" style="position: fixed;z-index:9999;bottom:5px;left:5px;"><svg enable-background="new 0 0 40 40"height=40px id=loader-1 version=1.1 viewBox="0 0 40 40"width=40px x=0px xml:space=preserve xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink y=0px><path d="M20.201,5.169c-8.254,0-14.946,6.692-14.946,14.946c0,8.255,6.692,14.946,14.946,14.946  s14.946-6.691,14.946-14.946C35.146,11.861,28.455,5.169,20.201,5.169z M20.201,31.749c-6.425,0-11.634-5.208-11.634-11.634  c0-6.425,5.209-11.634,11.634-11.634c6.425,0,11.633,5.209,11.633,11.634C31.834,26.541,26.626,31.749,20.201,31.749z"fill=#000 opacity=0.2 /><path d="M26.013,10.047l1.654-2.866c-2.198-1.272-4.743-2.012-7.466-2.012h0v3.312h0  C22.32,8.481,24.301,9.057,26.013,10.047z"fill=#000><animateTransform attributeName=transform attributeType=xml dur=0.5s from="0 20 20"repeatCount=indefinite to="360 20 20"type=rotate /></path></svg></div>'),$("#"+ajaxIDLoader).fadeOut("fast")),jQuery.ajaxPrefilter((function(e){if(indicatorAjax="boolean"==typeof e.indicator&&!0===e.indicator,dumpAjax="boolean"==typeof e.dump&&!0===e.dump,e.crossDomain&&jQuery.support.cors){var t=!0;if(e.url.match(/\.html$/g)&&(t=!1),e.url.match(/^\//)&&(t=!1),e.hasOwnProperty("proxy")&&!e.proxy&&(t=!1),t){var o="http:"===window.location.protocol?"http:":"https:";"string"==typeof e.proxy?e.url=e.proxy.replace(/\/{1,99}$/s,"")+"/"+e.url:e.url=o+"//cors-anywhere.herokuapp.com/"+e.url}}})),$(document).ajaxError((function(e,t,o,r){var a=t.getResponseHeader("Content-Type");"undefined"!=typeof toastr&&/json|text\/plain/s.test(a)&&toastr.error("Request failed. ("+t.status+" "+t.statusText+") "+r,"Request Info")})),$(document).ajaxSend((function(e,t,o){o.hasOwnProperty("indicator")&&o.indicator&&$("#"+ajaxIDLoader).fadeIn("fast"),dumpAjax&&toastr.info("Requesting...","Request Info"),o.hasOwnProperty("method")||(o.method="POST")})),$(document).ajaxComplete((function(e,t,o){o.hasOwnProperty("indicator")&&o.indicator&&$("#"+ajaxIDLoader).fadeOut("fast"),dumpAjax&&toastr.success("Request complete","Request Info"),AJAX=null,$("#"+ajaxIDLoader).fadeOut("slow");var r,a=t.getResponseHeader("Content-Type");if(t.hasOwnProperty("responseJSON")?r=t.responseJSON:(r=t.responseText,"string"==typeof r&&!empty(r)&&/json|text\/plain/s.test(a)&&is_json(r)&&(r=JSON.parse(r))),"object"==typeof r){if(r.hasOwnProperty("redirect"))throw this.location.replace(r.redirect),"Disabled";if(r.hasOwnProperty("reload"))throw location.href=location.href,"Disabled"}})),$(document).ajaxSuccess((function(e,t,o){var r,a=t.getResponseHeader("Content-Type");if(r=t.hasOwnProperty("responseJSON")?t.responseJSON:t.responseText,"string"==typeof r&&!empty(r)&&/json|text\/plain/s.test(a)&&is_json(r)&&(r=JSON.parse(r)),"object"==typeof r&&!o.hasOwnProperty("silent")&&"undefined"!=typeof toastr){var n=!(!r.hasOwnProperty("error")||!r.error),s=r.hasOwnProperty("title")?r.title:"Unknown Title",i=r.hasOwnProperty("message")?r.message:"Unknown Error";r.hasOwnProperty("error")?n?toastr.error(i,s):toastr.success(i,s):r.hasOwnProperty("message")&&toastr.info(i,s),r.hasOwnProperty("unauthorized")&&location.replace("/signin")}}));