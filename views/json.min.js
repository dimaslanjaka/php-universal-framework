var hasError=!1;class Snatch{todo="";done="";constructor(e){this.done="",this.todo=e||""}rtrim(e){return e.replace(/\s+$/g,"")}ltrim(e){return e.replace(/^\s+/g,"")}err(e,t){return hasError=!0,this.update('<span class="error" title="'+e+'">'+t+"</span>")}span(e,t){return this.update('<span class="'+e+'">'+t+"</span>")}indexOf(e,t){return t?this.todo.indexOf(e,t):this.todo.indexOf(e)}shift(e){var t;return e&&!isNaN(Number(e))&&this.todo.length>=e?(t=this.substring(0,e),this.update("",this.substring(e)),rtrim(t)):""}toString(){return 0!==this.todo.length&&this.err("Text after last closing brace.",this.todo),this.done}substring(e,t){return t?this.todo.substring(e,t):this.todo.substring(e)}search(e){return this.todo.search(e)}swap(e){return e&&!isNaN(Number(e))&&this.todo.length>=e&&this.update(this.todo.substr(0,e),this.todo.substring(e)),this}update(e,t){return e&&(this.done+=e),void 0!==t&&(this.todo=ltrim(t)),this}}var favicon="favicon",online="online",$status=document.getElementById("status"),slash="/",dot=".",parser="parser",semicolumn=":",json="json",$head=document.querySelector("head"),$result=document.getElementById("result"),$editor=document.getElementById("editor"),fr="fr",event_keyup="keyup",event_click="click",root="http"+semicolumn+slash+slash+json+dot+parser+dot+online+dot+fr+slash,typeOf=function(variable){return typeof eval(variable)};function analyze(){function e(e){var t="[\\x20\\t\\r\\n\\f]",r=new RegExp("^"+t+"+|((?:^|[^\\\\])(?:\\\\.)*)"+t+"+$","g");return e.replace(r,"")}var t=$editor?$editor.value:"{}";if(""===e(t))return $result.innerHTML="",void $status.classList.remove("status-error");$status.classList.remove("status-error"),setTimeout((function(){t=t.replace(/</g,"&lt;"),t=t.replace(/>/g,"&gt;");var e=parse(t);if($result.innerHTML=e.html,e.valid);else{var r=e.html.match(/class="error"/g).length;$status.innerHTML="<b>Invalid JSON</b> &nbsp;"+r+"&nbsp;error"+(r>1?"s":"")+"&nbsp;found",$status.classList.add("status-error")}}),0)}function parseString(e){var t,r,s,n=e.substring(0,1);if(e.update(""),'"'===n){if(t=e.shift(findEndString(e.todo)+1),-1!==t.search(/\\u(?![\d|A-F|a-f]{4})/g))return e.err("\\u must be followed by 4 hexadecimal characters",t);for(r=t.length,s=0;s<r;s++)if("\\"==t.substring(s,s+1)&&s+1<r&&(s++,!t.substring(s,s+1).search(/[^\"|\\|\/|b|f|n|r|t|u]/)))return e.err("Backslash must be escaped",t);return e.update('<span class="property">"<span class="p">'+t.substring(1,t.length-1)+'</span>"</span>')}return t=e.shift(e.indexOf(":")),e.err("Name property must be a String wrapped in double quotes.",t)}function parseSeparator(e){return":"!==e.substring(0,1)&&e.err("Semi-column is missing.",e.shift(e.indexOf(":"))),e.swap(1)}function parsePair(e){return e.update("<li>"),"}"===e.substring(0,1)?e.update("</li>"):(e=parseString(e),e=parseSeparator(e),e=parseValue(e,"}"),","===e.substring(0,1)?(e.swap(1).update("</li>"),parsePair(e)):"}"===e.substring(0,1)?e.update("</li>"):e.err("Comma is missing",e.shift(e.indexOf("}"))).update("</li>"))}function parseObject(e){return-1===e.indexOf("{")?(e.err("Opening brace is missing",e.todo),e.update("","")):(e.shift(1),e.update('<span class="object"><span class="toggle">{</span><ul>'),e=parsePair(e).update("</ul>"),-1===e.indexOf("}")?(e.err("Closing brace is missing",e.todo),e.update("","")):e.span("toggle-end",e.shift(1)))}function parseElement(e){return e.update("<li>"),e=parseValue(e,"]"),","===e.substring(0,1)?(e.swap(1).update("</li>"),parseElement(e,++io)):"]"===e.substring(0,1)?e.update("</li>"):e.err("Comma is missing",e.shift(e.search(/(,|\])/))).update("</li>")}function parseArray(e){var t=0;return-1===e.indexOf("[")?(e.err("Opening square bracket is missing",e.todo),e.update("","")):(e.shift(1),e.update('<span class="array">'),e.update('<span class="toggle">[</span><ol>'),0===e.indexOf("]")?(e.shift(1),e.update('</ol><span class="toggle-end" card="0">]</span>'),e.update("</span>")):(e=parseElement(e,0),-1===e.indexOf("]")?(e.err("Closing square bracket is missing",e.todo),e.update('</ol><span class="toggle-end" card="'+(t+1)+'"></span>'),e.update("</span>")):(e.shift(1),e.update('</ol><span class="toggle-end" card="'+(t+1)+'">]</span>'),e.update("</span>"))))}function trim(e){return ltrim(rtrim(e))}function rtrim(e){return e.replace(/\s+$/g,"")}function ltrim(e){return e.replace(/^\s+/g,"")}function findEndString(e){var t,r,s=0;do{s=e.indexOf('"',s+1),t=0,r=1;do{if("\\"!==e.substring(s-r,s-r+1))break;t+=1,r++}while(1);if(t%2===0)break}while(1);return s}function parse(e){var t,r=!1,s=new Snatch(trim(e));return t="["===ltrim(e).substr(0,1)?{html:parseArray(s).toString(),valid:!r}:"{"===ltrim(e).substr(0,1)?{html:parseObject(s).toString(),valid:!r}:{html:s.err("JSON expression must be an object or an array",e).update(null,"").toString(),valid:!1},t}function parseValue(e,t){var r,s,n,i,a,o="";if(0===e.search(/^(")/)){if(r=e.shift(findEndString(e.todo)+1),-1!==r.search(/\\u(?![\d|A-F|a-f]{4})/g))return e.err("\\u must be followed by 4 hexadecimal characters",r);for(i=r.length,n=0;n<i;n++)if("\\"==r.substring(n,n+1)&&n+1<i&&(n++,!r.substring(n,n+1).search(/[^\"|\\|\/|b|f|n|r|t|u]/)))return e.err("Backslash must be escaped",r);return e.span("string",r)}if(0===e.search(/^\{/))return parseObject(e);if(0===e.search(/^\[/))return parseArray(e);s=e.search(new RegExp("(,|"+t+")")),-1===s?(s=e.todo.length-1,a=rtrim(e.todo),e.update("","")):a=rtrim(e.shift(s));try{o=typeOf(a)}catch(u){}switch(o){case"boolean":case"number":return e.span(o,a);default:return"null"===a?e.span("null",a):0===a.search(/^(')/)?e.err("String must be wrapped in double quotes",a):e.err("Unknown type",a)}}(function(){for(var e,t=0,r=document.querySelectorAll(".ui-option");e=r[t];t++)e.addEventListener(event_click,(function(){document.querySelector("body").classList.toggle(this.id)}),!1);$result.addEventListener(event_click,(function(e){var t=e.target;(t.classList.contains("toggle")||t.classList.contains("toggle-end"))&&t.parentNode.classList.toggle("collapsed")}),!1);var s,n,i,a,o,u=document.querySelector(".ui-editor"),d=document.querySelector(".ui-aside"),l=document.querySelector(".ui-resizer"),c=function(e){if("1px"==window.getComputedStyle(l).height){var t=a+e.clientY-n;t=t>5?t:5,u.style.width="",u.style.height=t+"px",d.style.height=o-t+"px"}else{var r=i+e.clientX-s;r=r>5?r:5,u.style.width=r+"px",u.style.height="",d.style.height=""}},p=function(e){document.removeEventListener("mousemove",c,!1),document.removeEventListener("mouseup",p,!1),l.classList.remove("resizing")};l.addEventListener("mousedown",(function(e){s=e.clientX,n=e.clientY,i=parseInt(document.defaultView.getComputedStyle(u).width,10),a=parseInt(document.defaultView.getComputedStyle(u).height,10),o=parseInt(window.innerHeight),this.classList.add("resizing"),document.addEventListener("mousemove",c,!1),document.addEventListener("mouseup",p,!1)}),!1),window.addEventListener("resize",(function(){u.style.width="",u.style.height="",d.style.height=""}),!1),analyze(),$("#editor").on("change",(function(e){e.preventDefault(),analyze()}))})(),smartform();