console.clear();var typeOf=function(variable){return typeof eval(variable)};(function(){var t="favicon",e="online",n=document.getElementById("status"),s="/",r=".",i="parser",a=":",u="json",o=(document.querySelector("head"),document.getElementById("result")),d=document.getElementById("editor"),l="fr",c="click",h="http"+a+s+s+u+r+i+r+e+r+l+s;console.log(h);for(var p,g=0,f=document.querySelectorAll(".ui-option");p=f[g];g++)p.addEventListener(c,(function(){document.querySelector("body").classList.toggle(this.id)}),!1);function m(t){function e(t){return s(n(t))}function n(t){return t.replace(/\s+$/g,"")}function s(t){return t.replace(/^\s+/g,"")}function r(){var t,e,n=0;do{n=c.indexOf('"',n+1),t=0,e=1;do{if("\\"!==c.substring(n-e,n-e+1))break;t+=1,e++}while(1);if(t%2===0)break}while(1);return n}function i(t){function e(t){function n(t){var e,n,s,i=t.substring(0,1);if(t.update(""),'"'===i){if(e=t.shift(r(t.todo)+1),-1!==e.search(/\\u(?![\d|A-F|a-f]{4})/g))return t.err("\\u must be followed by 4 hexadecimal characters",e);for(n=e.length,s=0;s<n;s++)if("\\"==e.substring(s,s+1)&&s+1<n&&(s++,!e.substring(s,s+1).search(/[^\"|\\|\/|b|f|n|r|t|u]/)))return t.err("Backslash must be escaped",e);return t.update('<span class="property">"<span class="p">'+e.substring(1,e.length-1)+'</span>"</span>')}return e=t.shift(t.indexOf(":")),t.err("Name property must be a String wrapped in double quotes.",e)}function s(t){return":"!==t.substring(0,1)&&t.err("Semi-column is missing.",t.shift(t.indexOf(":"))),t.swap(1)}return t.update("<li>"),"}"===t.substring(0,1)?t.update("</li>"):(t=n(t),t=s(t),t=u(t,"}"),","===t.substring(0,1)?(t.swap(1).update("</li>"),e(t)):"}"===t.substring(0,1)?t.update("</li>"):t.err("Comma is missing",t.shift(t.indexOf("}"))).update("</li>"))}return-1===t.indexOf("{")?(t.err("Opening brace is missing",t.todo),t.update("","")):(t.shift(1),t.update('<span class="object"><span class="toggle">{</span><ul>'),t=e(t).update("</ul>"),-1===t.indexOf("}")?(t.err("Closing brace is missing",t.todo),t.update("","")):t.span("toggle-end",t.shift(1)))}function a(t){var e=0;function n(t){return t.update("<li>"),t=u(t,"]"),","===t.substring(0,1)?(t.swap(1).update("</li>"),n(t,++e)):"]"===t.substring(0,1)?t.update("</li>"):t.err("Comma is missing",t.shift(t.search(/(,|\])/))).update("</li>")}return-1===t.indexOf("[")?(t.err("Opening square bracket is missing",t.todo),t.update("","")):(t.shift(1),t.update('<span class="array">'),t.update('<span class="toggle">[</span><ol>'),0===t.indexOf("]")?(t.shift(1),t.update('</ol><span class="toggle-end" card="0">]</span>'),t.update("</span>")):(t=n(t,0),-1===t.indexOf("]")?(t.err("Closing square bracket is missing",t.todo),t.update('</ol><span class="toggle-end" card="'+(e+1)+'"></span>'),t.update("</span>")):(t.shift(1),t.update('</ol><span class="toggle-end" card="'+(e+1)+'">]</span>'),t.update("</span>"))))}function u(t,e){var s,u,o,d,l,c="";if(0===t.search(/^(")/)){if(s=t.shift(r(t.todo)+1),-1!==s.search(/\\u(?![\d|A-F|a-f]{4})/g))return t.err("\\u must be followed by 4 hexadecimal characters",s);for(d=s.length,o=0;o<d;o++)if("\\"==s.substring(o,o+1)&&o+1<d&&(o++,!s.substring(o,o+1).search(/[^\"|\\|\/|b|f|n|r|t|u]/)))return t.err("Backslash must be escaped",s);return t.span("string",s)}if(0===t.search(/^\{/))return i(t);if(0===t.search(/^\[/))return a(t);u=t.search(new RegExp("(,|"+e+")")),-1===u?(u=t.todo.length-1,l=n(t.todo),t.update("","")):l=n(t.shift(u));try{c=typeOf(l)}catch(h){}switch(c){case"boolean":case"number":return t.span(c,l);default:return"null"===l?t.span("null",l):0===l.search(/^(')/)?t.err("String must be wrapped in double quotes",l):t.err("Unknown type",l)}}var o,d=!1,l=function(t){this.done="",this.todo=t||"",this.update=function(t,e){return t&&(this.done+=t),void 0!==e&&(this.todo=s(e)),this},this.swap=function(t){return t&&!isNaN(Number(t))&&this.todo.length>=t&&this.update(this.todo.substr(0,t),this.todo.substring(t)),this},this.toString=function(){return 0!==this.todo.length&&this.err("Text after last closing brace.",this.todo),this.done},this.span=function(t,e){return this.update('<span class="'+t+'">'+e+"</span>")},this.err=function(t,e){return d=!0,this.update('<span class="error" title="'+t+'">'+e+"</span>")},this.shift=function(t){var e;return t&&!isNaN(Number(t))&&this.todo.length>=t?(e=this.substring(0,t),this.update("",this.substring(t)),n(e)):""},this.indexOf=function(t,e){return e?this.todo.indexOf(t,e):this.todo.indexOf(t)},this.substring=function(t,e){return e?this.todo.substring(t,e):this.todo.substring(t)},this.search=function(t){return this.todo.search(t)}},c=new l(e(t));return o="["===s(t).substr(0,1)?{html:a(c).toString(),valid:!d}:"{"===s(t).substr(0,1)?{html:i(c).toString(),valid:!d}:{html:c.err("JSON expression must be an object or an array",t).update(null,"").toString(),valid:!1},o}function b(){function t(t){var e="[\\x20\\t\\r\\n\\f]",n=new RegExp("^"+e+"+|((?:^|[^\\\\])(?:\\\\.)*)"+e+"+$","g");return t.replace(n,"")}var e=d.value;if(""===t(e))return o.innerHTML="",void n.classList.remove("status-error");n.classList.remove("status-error"),setTimeout((function(){e=e.replace(/</g,"&lt;"),e=e.replace(/>/g,"&gt;");var t=m(e);if(o.innerHTML=t.html,t.valid);else{var s=t.html.match(/class="error"/g).length;n.innerHTML="<b>Invalid JSON</b> &nbsp;"+s+"&nbsp;error"+(s>1?"s":"")+"&nbsp;found",n.classList.add("status-error")}}),0)}(function(){o.addEventListener(c,(function(t){var e=t.target;(e.classList.contains("toggle")||e.classList.contains("toggle-end"))&&e.parentNode.classList.toggle("collapsed")}),!1)})(),function(){var t,e,n,s,r,i=document.querySelector(".ui-editor"),a=document.querySelector(".ui-aside"),u=document.querySelector(".ui-resizer"),o=function(o){if("1px"==window.getComputedStyle(u).height){var d=s+o.clientY-e;d=d>5?d:5,i.style.width="",i.style.height=d+"px",a.style.height=r-d+"px"}else{var l=n+o.clientX-t;l=l>5?l:5,i.style.width=l+"px",i.style.height="",a.style.height=""}},d=function(t){document.removeEventListener("mousemove",o,!1),document.removeEventListener("mouseup",d,!1),u.classList.remove("resizing")};u.addEventListener("mousedown",(function(a){t=a.clientX,e=a.clientY,n=parseInt(document.defaultView.getComputedStyle(i).width,10),s=parseInt(document.defaultView.getComputedStyle(i).height,10),r=parseInt(window.innerHeight),this.classList.add("resizing"),document.addEventListener("mousemove",o,!1),document.addEventListener("mouseup",d,!1)}),!1),window.addEventListener("resize",(function(){i.style.width="",i.style.height="",a.style.height=""}),!1)}(),b(),h.length===22+t.length?$("#editor").change((function(t){t.preventDefault(),b()})):b=function(){}})();