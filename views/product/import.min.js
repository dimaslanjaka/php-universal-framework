var importer;(function(){smartform(),importer=$("#importUpdate"),importer.on("click",(function(t){parsel($("#importer"))}))})();var failIndicator=!1;function parsel(t){console.clear(),importer.prop("disabled",!1),failIndicator=!1;const a=[],e=[],o=t.val().trim(),r=o.split("\n");r.forEach(t=>{var o=t.toString().split("\t"),r={};o.length>1?(r.product_name=o[0],r.product_alias=o[1],r.brand_id=o[2],r.categories_id=o[3],r.product_type=o[4],r.unit=o[5],r.active=o[6],r.status=o[7],a.push(r)):(importer.prop("disabled",!0),failIndicator=!0,e.push(t))}),console.log(a),failIndicator?swal({title:"Database cannot be imported",text:`${e[0]} and ${e.length-1} more`,icon:"error"}).then((function(t){importer.prop("disabled",!1)})):swal({title:"Are you sure ?",text:"Once update, you'll not be able modify the datas without accessing the phpmyadmin",icon:"warning",buttons:!0,dangerMode:!0}).then(t=>{t?jAjax({url:"?save=true",method:"post",data:JSON.stringify(a),traditional:!0,contentType:"application/json; charset=utf-8",dataType:"json",success:function(t){t.success?swal("Database updated successfully",{icon:"success"}):swal({title:"Error while updating database",text:t.messages,icon:"error"})}}):swal("Update database cancelled")})}