var manageBrandTable;function editBrands(e=null){e?($("#brandId").remove(),$(".text-danger").remove(),$(".form-group").removeClass("has-error").removeClass("has-success"),$(".modal-loading").removeClass("div-hide"),$(".edit-brand-result").addClass("div-hide"),$(".editBrandFooter").addClass("div-hide"),$.ajax({url:"/php_action/fetchSelectedBrand",type:"post",data:{brandId:e},dataType:"json",success:function(e){$(".modal-loading").addClass("div-hide"),$(".edit-brand-result").removeClass("div-hide"),$(".editBrandFooter").removeClass("div-hide"),$("#editBrandName").val(e.brand_name),$("#editBrandStatus").val(e.brand_active),$(".editBrandFooter").after('<input type="hidden" name="brandId" id="brandId" value="'+e.brand_id+'" />'),$("#editBrandForm").unbind("submit").bind("submit",(function(){$(".text-danger").remove(),$(".form-group").removeClass("has-error").removeClass("has-success");var e=$("#editBrandName").val(),a=$("#editBrandStatus").val();if(""==e?($("#editBrandName").after('<p class="text-danger">Brand Name field is required</p>'),$("#editBrandName").closest(".form-group").addClass("has-error")):($("#editBrandName").find(".text-danger").remove(),$("#editBrandName").closest(".form-group").addClass("has-success")),""==a?($("#editBrandStatus").after('<p class="text-danger">Brand Name field is required</p>'),$("#editBrandStatus").closest(".form-group").addClass("has-error")):($("#editBrandStatus").find(".text-danger").remove(),$("#editBrandStatus").closest(".form-group").addClass("has-success")),e&&a){var s=$(this);$("#editBrandBtn").button("loading"),$.ajax({url:s.attr("action"),type:s.attr("method"),data:s.serialize(),dataType:"json",success:function(e){1==e.success&&(console.log(e),$("#editBrandBtn").button("reset"),manageBrandTable.ajax.reload(null,!1),$(".text-danger").remove(),$(".form-group").removeClass("has-error").removeClass("has-success"),$("#edit-brand-messages").html('<div class="alert alert-success"><button type="button" class="close" data-dismiss="alert">&times;</button><strong><i class="glyphicon glyphicon-ok-sign"></i></strong> '+e.messages+"</div>"),$(".alert-success").delay(500).show(10,(function(){$(this).delay(3e3).hide(10,(function(){$(this).remove()}))})))}})}return!1}))}})):alert("error!! Refresh the page again")}function removeBrands(e=null){e?($("#removeBrandId").remove(),$.ajax({url:"/php_action/fetchSelectedBrand",type:"post",data:{brandId:e},dataType:"json",success:function(a){$(".removeBrandFooter").after('<input type="hidden" name="removeBrandId" id="removeBrandId" value="'+a.brand_id+'" /> '),$("#removeBrandBtn").unbind("click").bind("click",(function(){$("#removeBrandBtn").button("loading"),$.ajax({url:"/php_action/removeBrand",type:"post",data:{brandId:e},dataType:"json",success:function(e){console.log(e),$("#removeBrandBtn").button("reset"),1==e.success&&($("#removeMemberModal").modal("hide"),manageBrandTable.ajax.reload(null,!1),$(".remove-messages").html('<div class="alert alert-success"><button type="button" class="close" data-dismiss="alert">&times;</button><strong><i class="glyphicon glyphicon-ok-sign"></i></strong> '+e.messages+"</div>"),$(".alert-success").delay(500).show(10,(function(){$(this).delay(3e3).hide(10,(function(){$(this).remove()}))})))}})}))}}),$(".removeBrandFooter").after()):alert("error!! Refresh the page again")}$(document).ready((function(){$("#navBrand").addClass("active"),manageBrandTable=$("#manageBrandTable").DataTable({ajax:"/php_action/fetchBrand",order:[]}),$("#submitBrandForm").unbind("submit").bind("submit",(function(){$(".text-danger").remove(),$(".form-group").removeClass("has-error").removeClass("has-success");var e=$("#brandName").val(),a=$("#brandStatus").val();if(""==e?($("#brandName").after('<p class="text-danger">Brand Name field is required</p>'),$("#brandName").closest(".form-group").addClass("has-error")):($("#brandName").find(".text-danger").remove(),$("#brandName").closest(".form-group").addClass("has-success")),""==a?($("#brandStatus").after('<p class="text-danger">Brand Name field is required</p>'),$("#brandStatus").closest(".form-group").addClass("has-error")):($("#brandStatus").find(".text-danger").remove(),$("#brandStatus").closest(".form-group").addClass("has-success")),e&&a){var s=$(this);$("#createBrandBtn").button("loading"),$.ajax({url:s.attr("action"),type:s.attr("method"),data:s.serialize(),dataType:"json",success:function(e){$("#createBrandBtn").button("reset"),1==e.success&&(manageBrandTable.ajax.reload(null,!1),$("#submitBrandForm")[0].reset(),$(".text-danger").remove(),$(".form-group").removeClass("has-error").removeClass("has-success"),$("#add-brand-messages").html('<div class="alert alert-success"><button type="button" class="close" data-dismiss="alert">&times;</button><strong><i class="glyphicon glyphicon-ok-sign"></i></strong> '+e.messages+"</div>"),$(".alert-success").delay(500).show(10,(function(){$(this).delay(3e3).hide(10,(function(){$(this).remove()}))})))}})}return!1}))}));