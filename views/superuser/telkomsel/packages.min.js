$("#pkgList").DataTable({destroy:!0,dom:"Bfrtip",processing:!1,serverSide:!1,stateSave:!1,autoWidth:!1,responsive:!0,deferRender:!0,paging:!0,lengthMenu:[5,10,15,20,25,30,100,200,300,400,500,"All"],buttons:["refresh"],ajax:{url:location.href,headers:{Accept:"application/json"},method:"POST",data:{data:"",list:""},dataSrc:function(e){var a=[];return a=Array.isArray(e)?e:[e],a.forEach((function(e,a){for(const t in e)if(e.hasOwnProperty(t)&&"status"==t){const a="active"==e[t]?"checked":"";e.control=`<form action=""><input type="hidden" value="${e.code}" name="status-pkg"/><input type="hidden" value="${e.code}" name="id"/><div class="switch"> <label> Off <input type="checkbox" ${a} name="status"> <span class="lever"></span> On </label> </div></form>`}})),a}},columns:[{data:"code",name:"code"},{data:"name",name:"name"},{data:"price",name:"price"},{data:"status",name:"status"},{data:"control",name:"control"}]}),$("#pkgList").find("label").each((function(){$(this).parent().append($(this).children())})),$("#pkgList .dataTables_filter").find("input").each((function(){const e=$(this);e.attr("placeholder","Search"),e.removeClass("form-control-sm")})),$("#pkgList .dataTables_length").addClass("d-flex flex-row"),$("#pkgList .dataTables_filter").addClass("md-form"),$("#pkgList select").removeClass("custom-select custom-select-sm form-control form-control-sm"),$("#pkgList select").addClass("mdb-select"),$("#pkgList .dataTables_filter").find("label").remove(),$(document).on("change",'[name="status"]',(function(e){var a=$(this);a.parents("form").submit()})),AjaxForm();