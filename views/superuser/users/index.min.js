$(document).on("change",'form[id^="max"]',(function(e){e.preventDefault();var t=$(this).serialize();$.ajax({url:location.href,data:t,method:"post",success:function(e){e.hasOwnProperty("error")&&(e.error||toastr.success("Limitation increased successfully","Limit info"))}})})),$('select[id^="role"]').length&&$('select[id^="role"]').change((function(){var e=$(this).data("id"),t=$(this).val();console.log(e,t),e&&t&&$.post(location.protocol+"//"+location.host+"/user",{change:"role",id:e,value:t},(function(e){e.hasOwnProperty("success")&&e.success&&toastr.success("Role changed successfully".capitalize(),"user management".toUpperCase())}))})),$("form#regist").length&&$("form#regist").submit((function(e){e.preventDefault(),$.post(location.protocol+"//"+location.host+"/signup",$(this).serialize(),(function(e){e&&"object"==typeof e&&e.hasOwnProperty("success")&&e.success&&toastr.success("User created successfully".capitalize(),"user management".toUpperCase())}))})),$('a[href="#change"]').length&&$('a[href="#change"]').click((function(e){e.preventDefault();var t=$(this).data("id");swal({content:{element:"input",attributes:{placeholder:"Type your password",type:"text"}}}).then(e=>{e&&$.post(location.protocol+"//"+location.host+"/user",{change:"password",id:t,value:e},(function(e){e.hasOwnProperty("success")&&e.success&&toastr.success("Password changed successfully","user management")}))})})),$('a[href="#delete"]').length&&$('a[href="#delete"]').click((function(e){e.preventDefault();var t=$(this).data("id");swal({title:"Are you sure?".capitalize(),text:"Once deleted, you will not be able to recover this user!".capitalize(),icon:"warning",buttons:!0,dangerMode:!0}).then(e=>{e?$.post(location.protocol+"//"+location.host+"/user",{id:t,delete:!0},(function(e){swal("Poof! User has been deleted!".capitalize(),{icon:"success"})})):swal("User file is safe!")})})),$("#dtMaterial").length&&$(document).ready((function(){$("#dtMaterial").DataTable({destroy:!0,dom:"Bfrtip",processing:!1,serverSide:!1,stateSave:!1,autoWidth:!1,responsive:!0,deferRender:!0,paging:!0,lengthMenu:[5,10,15,20,25,30,100,200,300,400,500,"All"],buttons:["refresh"]}),$("#dtMaterial_wrapper").add("#pkgList_wrapper").find("label").each((function(){$(this).parent().append($(this).children())})),$("#dtMaterial_wrapper .dataTables_filter").add("#pkgList_wrapper .dataTables_filter").find("input").each((function(){const e=$(this);e.attr("placeholder","Search"),e.removeClass("form-control-sm")})),$("#dtMaterial_wrapper .dataTables_length").add("#pkgList_wrapper .dataTables_length").addClass("d-flex flex-row"),$("#dtMaterial_wrapper .dataTables_filter").add("#pkgList_wrapper .dataTables_filter").addClass("md-form"),$("#dtMaterial_wrapper select").add("#pkgList_wrapper select").removeClass("custom-select custom-select-sm form-control form-control-sm"),$("#dtMaterial_wrapper select").add("#pkgList_wrapper select").addClass("mdb-select"),$("#dtMaterial_wrapper .mdb-select").add("#pkgList_wrapper .mdb-select").materialSelect(),$("#dtMaterial_wrapper .dataTables_filter").add("#pkgList_wrapper .dataTables_filter").find("label").remove()}));